{"version":3,"sources":["styles.js","components/Banner/styles.js","components/Banner/index.js","components/Footer/styles.js","components/Footer/index.js","components/Point/styles.js","components/Point/index.js","components/LeftNav/styles.js","components/LeftNav/index.js","components/LeftNavPosition/index.js","components/Product/styles.js","components/Product/index.js","components/Products/index.js","components/ResultsHeader/styles.js","components/ResultsHeader/index.js","components/ResultsHeaderPosition/index.js","components/Toolbox/components/Number/index.js","components/Toolbox/styles.js","components/Toolbox/index.js","components/Toolbox/components/Toggle/index.js","components/TopNav/styles.js","components/TopNav/index.js","data/topNav.js","index.js","data/leftNav.js","data/products.js"],"names":["CROSSHAIR_RADIUS","Math","round","CROSSHAIR_POINT_RADIUS","crosshair","i","j","push","concat","join","styles","app","css","font","position"," .top-nav","zIndex"," .body","paddingTop"," .title-font","fontFamily","color","letterSpacing"," .results-interface","display"," .results-header","left","boxShadow","&__title","transform","transformOrigin","transition",".is--sticky"," .results-header__title"," .left-nav-wrapper","minWidth","padding"," .left-nav","background","&__clear-btn","width","&__wrapper-top-point,&__top-point,&__wrapper-btm-point,&__btm-point","&__wrapper-top-point,&__top-point","top","&__wrapper-btm-point,&__btm-point","bottom"," .products__wrapper","flex","paddingLeft"," .footer","marginTop",".debug","opacity","backgroundColor","backgroundAttachment","backgroundImage","diagonalLineThickness","::after","content","height","border","borderRadius","&__wrapper-top-point,&__wrapper-btm-point","&__top-point,&__btm-point","toolbox","Banner_styles","root","textAlign","Banner","react_default","a","createElement","className","Footer_styles","Footer","Point_styles","pointerEvents","Point","_ref","type","data-point-type","link","whiteSpace","textDecoration","revealSpeed","LeftNav_styles","overflow","filterFocusIndicatorWidth","marginLeft","&__category-link","Object","objectSpread","&__filter-group","borderBottom","margin","&__filter-group-btn","cursor","outline","userSelect","right",":focus::before",".is--open::after","&__filter-group-content","&__filter-link","::before","marginRight","verticalAlign",".is--selected::before",".show--clear","paddingBottom","LeftNav","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","showClearFilters","filters","extend","handleClearClick","bind","assertThisInitialized","handleFilterClick","handleFilterGroupToggle","_this2","onClearBtnToggle","setState","clearBtnTimer","setTimeout","ev","_this3","preventDefault","data","currentTarget","dataset","selected","filter","filterNdx","selectedFiltersCount","clearTimeout","onFilterGroupToggle","_this4","_this$props","categories","clearBtnStyles","navRef","navStyles","wrapperRef","navModifier","ref","style","map","item","ndx","key","href","url","onClick","noOp","label","keys","filterGroup","groupNdx","group","Collapsible_default","contentInnerClassName","onOpening","onClosing","openedClassName","tabIndex","transitionTime","trigger","triggerClassName","triggerOpenedClassName","modifier","data-filter","data-filter-ndx","disabled","Component","forwardRef","refs","_refs","LeftNav_LeftNav","assign","dummyLogger","log","debugLogger","window","console","navPositions","LeftNavPosition","undefined","debug","leftNavRef","createRef","leftNavWrapperRef","handleClearBtnToggle","handleScroll","init","removeEventListener","prevProps","prevState","boundsBottom","boundsTop","setLogger","navBounds","calcBounds","logger","_this$props2","leftNavW","current","offsetWidth","pointEls","document","querySelectorAll","points","addEventListener","controlNavPosition","heightChanged","toggleSpeed","total","requestAnimationFrame","checkPos","rectY","querySelector","getBoundingClientRect","y","innerHeight","scrollDirection","prevScroll","pageYOffset","scrollAmount","abs","length","point","pointType","rect","visible","pos","clearBtnPos","navPos","offsetY","arguments","sibling","offsetHeight","setNavPosition","navWithinBounds","_this$points","navBtm","navTop","wrapperBtm","wrapperTop","navFitsInView","setClearBtnPosition","children","_this$state","positionProps","childrenWithProps","Children","child","cloneElement","react","Product_styles"," img"," h4"," h6","Product","price","subtitle","title","src","alt","Products","items","ResultsHeader_styles","fontSize","lineHeight","&__nav","&__sort","headerRef","placeholderStyles","ResultsHeaderPosition","mStyle","setHeaderPosition","cssText","indexOf","classList","add","Stickyfill","controlHeaderPosition","remove","Number","sanitize","min","onChange","val","value","Toolbox_styles","defineProperty","minHeight","borderRight"," label"," > .label-text"," > input"," [type=\"number\"]","maxWidth"," .toolbox","&__toggle-btn","&__tools > *",".is--open","Tools","Toggle","toggled","checked","Toolbox","opened","handleOpenClick","modifiers","TopNav_styles"," a","textTransform",":hover::after","TopNav","topNav","CATEGORY_COUNT","FILTER_COUNT","FILTER_CHILD_COUNT","PRODUCT_COUNT","App","generateData","categoryCount","filterCount","filterChildCount","headerTopBounds","navTopBounds","navBtmBounds","productCount","shelfOpened","topNavRef","productsRef","handleCategoryCountChange","handleDebugToggle","handleFilterChildCountChange","handleFilterCountChange","handleProductCountChange","params","ret","replace","split","forEach","param","_default","name","rawParams","location","search","updatedParams","parseQueryParams","paramsString","history","replaceState","pathname","_state","prevVal","newVal","Boolean","count","Array","fill","childCount","_filters","genFilters","products","genProducts","headerHeight","topNavHeight","getStateFromQueryString","updateQuery","appModifier","topNavData","components_ResultsHeaderPosition","ResultsHeader","components_LeftNavPosition","components_LeftNav","components_Toolbox","rootElement","getElementById","ReactDOM","render","src_App"],"mappings":"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","file":"static/js/main.7ff5b32c.chunk.js","sourcesContent":["import {css} from 'glamor';\n\nconst CROSSHAIR_COLOR = '#000';\nconst CROSSHAIR_POINT_RADIUS = 20;\nconst CROSSHAIR_RADIUS = Math.round(CROSSHAIR_POINT_RADIUS/2) + 3;\nlet crosshair = [];\n\nfor(let i=0; i<4; i++){\n  for(let j=0; j<CROSSHAIR_RADIUS; j++){\n    if(i === 0) crosshair.push(`0px -${j+1}px 0px 0px ${CROSSHAIR_COLOR}`);\n    else if(i === 1) crosshair.push(`${j+1}px 0px 0px 0px ${CROSSHAIR_COLOR}`);\n    else if(i === 2) crosshair.push(`0px ${j+1}px 0px 0px ${CROSSHAIR_COLOR}`);\n    else if(i === 3) crosshair.push(`-${j+1}px 0px 0px 0px ${CROSSHAIR_COLOR}`);\n  }\n}\ncrosshair = crosshair.join(',');\n\nconst diagonalLineThickness = 3;\nconst LAYER1_INDEX = 9;\nconst LAYER2_INDEX = 10;\nconst NAV_WIDTH = 200;\nexport default {\n  app: css({\n    font: '16px Helvetica, Arial, sans-serif',\n    position: 'relative',\n    \n    ' .top-nav': {\n      zIndex: LAYER2_INDEX,\n    },\n    \n    ' .body': {\n      paddingTop: '3.3em',\n      position: 'relative',\n    },\n\n    ' .title-font': {\n      fontFamily: 'impact',\n      color: '#444',\n      letterSpacing: '1px',\n    },\n\n    ' .results-interface': {\n      display: 'flex',\n    },\n\n    ' .results-header': {\n      position: 'sticky',\n      left: 0,\n      zIndex: LAYER1_INDEX,\n      // Accounts for pixel offset in webkit browsers, which was allowing for\n      // child content to be visible underneath as you scroll. :\\\n      boxShadow: '0 -2px 0 0 #fff',\n\n      '&__title': {\n        transform: 'scale(1)',\n        transformOrigin: 'left center',\n        transition: 'transform 200ms',\n      },\n\n      '.is--sticky': {\n\n        ' .results-header__title': {\n          transform: 'scale(0.75)',\n        }\n      },\n    },\n\n    ' .left-nav-wrapper': {\n      minWidth: `${NAV_WIDTH}px`,\n      padding: '0 0 1em 1em',\n    },\n\n    ' .left-nav': {\n      paddingTop: '0.3em',\n      background: '#fff',\n      \n      '&__clear-btn': {\n        width: `${NAV_WIDTH}px`,\n      },\n\n      '&__wrapper-top-point,&__top-point,&__wrapper-btm-point,&__btm-point': {\n        position: 'absolute',\n        left: '50%',\n        transform: 'translateX(-50%)',\n      },\n\n      '&__wrapper-top-point,&__top-point': {\n        top: 0,\n      },\n\n      '&__wrapper-btm-point,&__btm-point': {\n        bottom: 0,\n      },\n    },\n\n    ' .products__wrapper': {\n      flex: 1,\n      paddingLeft: '1em',\n    },\n\n    ' .footer': {\n      marginTop: '2em',\n      // addresses a FOC when the nav sometimes flashes above the footer\n      position: 'relative',\n      zIndex: LAYER2_INDEX,\n    },\n\n    '.debug': {\n      ' .results-header': {\n        opacity: 0.75,\n      },\n      \n      ' .left-nav-wrapper': {\n        backgroundColor: '#ddd',\n        backgroundAttachment: 'fixed',\n        backgroundImage: `repeating-linear-gradient(\n          -45deg,\n          #ddd,\n          #ddd ${diagonalLineThickness}px,\n          #fff ${diagonalLineThickness}px,\n          #fff ${diagonalLineThickness * 3}px\n        )`,\n      },\n\n      ' .left-nav': {\n\n        '&__wrapper-top-point,&__top-point,&__wrapper-btm-point,&__btm-point': {\n          background: CROSSHAIR_COLOR,\n          boxShadow: crosshair,\n\n          '::after': {\n            content: `''`,\n            width: `${CROSSHAIR_POINT_RADIUS}px`,\n            height: `${CROSSHAIR_POINT_RADIUS}px`,\n            border: 'solid 1px',\n            borderRadius: '100%',\n            display: 'block',\n            position: 'absolute',\n            transform: 'translate(-50%, -50%)',\n          },\n        },\n\n        '&__wrapper-top-point,&__wrapper-btm-point': {\n          '::after': {\n            background: '#00ff0020',\n          },\n        },\n\n        '&__top-point,&__btm-point': {\n          '::after': {\n            background: '#ff000020',\n          },\n        },\n      },\n    },\n  }),\n  \n  toolbox: css({\n    zIndex: LAYER2_INDEX,\n  }),\n};\n","import {css} from 'glamor';\n\nexport default {\n  root: css({\n    textAlign: 'center',\n    padding: '1em',\n    background: '#eee',\n  }),\n};\n","import React from 'react';\nimport styles from './styles';\n\nexport default () => (\n  <div className={`banner ${styles.root}`}>Banner</div>\n);\n","import {css} from 'glamor';\n\nexport default {\n  root: css({\n    color: '#eee',\n    textAlign: 'center',\n    padding: '1em',\n    background: '#333',\n  }),\n};\n","import React from 'react';\nimport styles from './styles';\n\nexport default () => (\n  <div className={`footer ${styles.root}`}>Footer</div>\n);\n","import {css} from 'glamor';\n\nexport default {\n  root: css({\n    width: '1px',\n    height: '1px',\n    display: 'inline-block',\n    pointerEvents: 'none',\n  }),\n};\n","import React from 'react';\nimport styles from './styles';\n\nexport default ({\n  className,\n  type,\n}) => (\n  <div\n    className={`point ${styles.root} ${className}`}\n    data-point-type={type}\n  />\n);\n","import {css} from 'glamor';\n\nconst link = {\n  color: '#333',\n  whiteSpace: 'nowrap',\n  textDecoration: 'none',\n  padding: '0 0 0.4em',\n  display: 'block',\n};\nconst filterFocusIndicatorWidth = 4;\nconst filterFocusIndicatorOffset = 8;\nexport const TOGGLE_SPEED = 200;\nconst revealSpeed = `${TOGGLE_SPEED}ms`;\nexport default {\n  root: css({\n    position: 'relative',\n    overflow: 'hidden',\n\n    ' .left-nav': {\n      paddingLeft: `${filterFocusIndicatorWidth + filterFocusIndicatorOffset}px`,\n      marginLeft: `-${filterFocusIndicatorWidth + filterFocusIndicatorOffset}px`,\n      position: 'relative',\n      transition: `padding-bottom ${revealSpeed}`,\n\n      '&__category-link': {\n        ...link,\n      },\n\n      '&__filter-group': {\n        borderBottom: 'solid 1px #666',\n        margin: '0.75em 0',\n      },\n\n      '&__filter-group-btn': {\n        padding: '0.5em 0',\n        display: 'block',\n        cursor: 'pointer',\n        outline: 'none',\n        position: 'relative',\n        userSelect: 'none',\n\n        '::after': {\n          content: '\\\\002B',\n          position: 'absolute',\n          top: '50%',\n          right: 0,\n          transform: 'translateY(-50%)',\n        },\n\n        ':focus::before': {\n          content: `''`,\n          width: `${filterFocusIndicatorWidth}px`,\n          background: '#333',\n          position: 'absolute',\n          top: '25%',\n          bottom: '25%',\n          left: `-${filterFocusIndicatorOffset}px`,\n        },\n\n        '.is--open::after': {\n          content: '\\\\2212',\n        },\n      },\n\n      '&__filter-group-content': {\n        padding: '0.5em 0',\n      },\n\n      '&__filter-link': {\n        ...link,\n\n        '::before': {\n          content: `''`,\n          width: '1em',\n          height: '1em',\n          border: 'solid 1px',\n          marginRight: '0.5em',\n          display: 'inline-block',\n          verticalAlign: 'top',\n        },\n\n        '.is--selected::before': {\n          background: '#333',\n        },\n      },\n\n      '&__clear-btn': {\n        color: '#eee',\n        padding: '0.5em 1em',\n        border: 'none',\n        background: '#333',\n        cursor: 'pointer',\n        position: 'absolute',\n        bottom: '1em',\n        left: '1em',\n        transform: 'translateY(160%)',\n        transition: `transform ${revealSpeed}`,\n      },\n    },\n    \n    '.show--clear': {\n\n      ' .left-nav': {\n        paddingBottom: '3em',\n        \n        '&__clear-btn': {\n          transform: 'translateY(0%)',\n        },\n      },\n    },\n  }),\n};\n","import React, { forwardRef, Component } from \"react\";\r\nimport Collapsible from 'react-collapsible';\r\nimport extend from 'extend';\r\nimport Point from '../Point';\r\nimport styles, { TOGGLE_SPEED } from \"./styles\";\r\n\r\nclass LeftNav extends Component {\r\n  constructor(props) {\r\n    super();\r\n\r\n    this.state = {\r\n      showClearFilters: false,\r\n    };\r\n    this.filters = extend(true, {}, props.filters);\r\n\r\n    this.handleClearClick = this.handleClearClick.bind(this);\r\n    this.handleFilterClick = this.handleFilterClick.bind(this);\r\n    this.handleFilterGroupToggle = this.handleFilterGroupToggle.bind(this);\r\n  }\r\n  \r\n  handleClearClick() {\r\n    const { onClearBtnToggle } = this.props;\r\n    this.filters = extend(true, {}, this.props.filters);\r\n    \r\n    this.setState({\r\n      showClearFilters: false,\r\n    }, () => {\r\n      if(onClearBtnToggle){\r\n        this.clearBtnTimer = setTimeout(() => {\r\n          onClearBtnToggle();\r\n        }, TOGGLE_SPEED);\r\n      }\r\n    });\r\n  }\r\n  \r\n  handleFilterClick(ev) {\r\n    ev.preventDefault();\r\n    \r\n    const { onClearBtnToggle } = this.props;\r\n    const data = ev.currentTarget.dataset;\r\n    const filter = this.filters[data.filter][data.filterNdx];\r\n    const selected = !filter.selected;\r\n    let showClearFilters = this.state.showClearFilters;\r\n\r\n    if(selected){\r\n      showClearFilters = true;\r\n    } else if(!selected && this.selectedFiltersCount - 1 === 0) {\r\n      showClearFilters = false;\r\n    }\r\n    \r\n    this.filters[data.filter][data.filterNdx].selected = selected;\r\n\r\n    this.setState({\r\n      showClearFilters,\r\n    }, () => {\r\n      if(onClearBtnToggle){\r\n        clearTimeout(this.clearBtnTimer);\r\n        this.clearBtnTimer = setTimeout(() => {\r\n          onClearBtnToggle();\r\n        }, TOGGLE_SPEED);\r\n      }\r\n    });\r\n  }\r\n  \r\n  handleFilterGroupToggle() {\r\n    const { onFilterGroupToggle } = this.props;\r\n    \r\n    if(onFilterGroupToggle) onFilterGroupToggle();\r\n  }\r\n\r\n  noOp(ev) {\r\n    ev.preventDefault();\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      categories,\r\n      clearBtnStyles,\r\n      filters,\r\n      navRef,\r\n      navStyles,\r\n      wrapperRef,\r\n    } = this.props;\r\n    const {\r\n      showClearFilters,\r\n    } = this.state;\r\n    const navModifier = (showClearFilters) ? 'show--clear' : '';\r\n\r\n    return (\r\n      <div\r\n        className={`left-nav-wrapper ${styles.root} ${navModifier}`}\r\n        ref={wrapperRef}\r\n      >\r\n        <Point className=\"left-nav__wrapper-top-point\" type=\"wrapperTop\" />\r\n        <nav\r\n          className=\"left-nav\"\r\n          ref={navRef}\r\n          style={navStyles}\r\n        >\r\n          <Point className=\"left-nav__top-point\" type=\"navTop\" />\r\n          {categories.map((item, ndx) => (\r\n            <a\r\n              key={ndx}\r\n              className=\"left-nav__category-link\"\r\n              href={item.url}\r\n              onClick={this.noOp}\r\n            >\r\n              {item.label}\r\n            </a>\r\n          ))}\r\n          {Object.keys(filters).map((filterGroup, groupNdx) => {\r\n            const group = filters[filterGroup];\r\n\r\n            if(groupNdx === 0) this.selectedFiltersCount = 0;\r\n\r\n            return (\r\n              <Collapsible\r\n                key={groupNdx}\r\n                className=\"left-nav__filter-group\"\r\n                contentInnerClassName=\"left-nav__filter-group-content\"\r\n                onOpening={this.handleFilterGroupToggle}\r\n                onClosing={this.handleFilterGroupToggle}\r\n                openedClassName=\"left-nav__filter-group\"\r\n                tabIndex={0}\r\n                transitionTime={TOGGLE_SPEED}\r\n                trigger={filterGroup}\r\n                triggerClassName=\"left-nav__filter-group-btn title-font\"\r\n                triggerOpenedClassName=\"left-nav__filter-group-btn title-font is--open\"\r\n              >\r\n                {group.map((filter, filterNdx) => {\r\n                  const selected = this.filters[filterGroup][filterNdx].selected;\r\n                  const modifier = (selected) ? 'is--selected' : '';\r\n                  \r\n                  if(selected) this.selectedFiltersCount += 1;\r\n\r\n                  return (\r\n                    <a\r\n                      key={filterNdx}\r\n                      className={`left-nav__filter-link ${modifier}`}\r\n                      href={filter.url}\r\n                      data-filter={filterGroup}\r\n                      data-filter-ndx={filterNdx}\r\n                      onClick={this.handleFilterClick}\r\n                    >\r\n                      {filter.label}\r\n                    </a>\r\n                  );\r\n                })}\r\n              </Collapsible>\r\n            );\r\n          })}\r\n          <Point className=\"left-nav__btm-point\" type=\"navBtm\" />\r\n        </nav>\r\n        <button\r\n          className=\"left-nav__clear-btn\"\r\n          disabled={!showClearFilters}\r\n          onClick={this.handleClearClick}\r\n          style={clearBtnStyles}\r\n        >\r\n          {`Clear (${this.selectedFiltersCount}) Filter${(this.selectedFiltersCount > 1) ? 's' : ''}`}\r\n        </button>\r\n        <Point className=\"left-nav__wrapper-btm-point\" type=\"wrapperBtm\" />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default forwardRef((props, refs) => {\r\n  // Can't just set `refs` to a default value because it gets returned as null.\r\n  const _refs = (!refs) ? {} : refs;\r\n  const { navRef, wrapperRef } = _refs;\r\n  \r\n  return <LeftNav {...props} navRef={navRef} wrapperRef={wrapperRef} />;\r\n});\r\nexport {\r\n  TOGGLE_SPEED,\r\n};\r\n","/*\r\n  eslint-disable\r\n    default-case,\r\n    no-mixed-operators\r\n*/\r\n\r\nimport React, {\r\n  Children,\r\n  Component,\r\n  cloneElement,\r\n  createRef,\r\n  Fragment,\r\n} from 'react';\r\n\r\n// NOTE - All the logging logic is only for demo purposes and can be removed.\r\nconst dummyLogger = {\r\n  log: () => {},\r\n};\r\nconst debugLogger = {\r\n  log: window.console.log,\r\n};\r\n\r\nconst navPositions = {\r\n  SCROLL: 'scroll',\r\n  LOCK_TO_BOUNDS_TOP: 'lockToBoundsTop',\r\n  LOCK_TO_BOUNDS_BOTTOM: 'lockToBoundsBottom',\r\n  LOCK_TO_WRAPPER_BOTTOM: 'lockToWrapperBottom',\r\n};\r\n\r\nclass LeftNavPosition extends Component {\r\n  constructor(props) {\r\n    super();\r\n\r\n    this.state = {\r\n      clearBtnStyles: undefined,\r\n      navStyles: undefined,\r\n      // NOTE - The below props are only for demo purposes and can be removed.\r\n      debug: props.debug,\r\n    };\r\n    \r\n    \r\n    \r\n    this.leftNavRef = createRef();\r\n    this.leftNavWrapperRef = createRef();\r\n    \r\n    this.handleClearBtnToggle = this.handleClearBtnToggle.bind(this);\r\n    this.handleFilterGroupToggle = this.handleFilterGroupToggle.bind(this);\r\n    this.handleScroll = this.handleScroll.bind(this);\r\n  }\r\n  \r\n  componentDidMount() {\r\n    this.init();\r\n  }\r\n  \r\n  componentWillUnmount() {\r\n    window.removeEventListener('scroll', this.handleScroll);\r\n  }\r\n  \r\n  componentDidUpdate(prevProps, prevState) {\r\n    const {\r\n      boundsBottom,\r\n      boundsTop,\r\n      debug,\r\n    } = this.props;\r\n    \r\n    if(debug !== prevProps.debug) this.setLogger(debug);\r\n    \r\n    if(\r\n      boundsBottom !== this.navBounds.bottom\r\n      || boundsTop !== this.navBounds.top\r\n    ){\r\n      this.navBounds = {\r\n        bottom: boundsBottom,\r\n        top: boundsTop,\r\n      };\r\n      this.calcBounds();\r\n    }\r\n  }\r\n  \r\n  setLogger(debug) {\r\n    this.logger = (debug) ? debugLogger : dummyLogger;\r\n  }\r\n  \r\n  init() {\r\n    const {\r\n      boundsBottom,\r\n      boundsTop,\r\n    } = this.props;\r\n    \r\n    this.leftNavW = this.leftNavRef.current.offsetWidth;\r\n    this.navBounds = {\r\n      bottom: boundsBottom,\r\n      top: boundsTop,\r\n    };\r\n    this.pointEls = document.querySelectorAll('.left-nav-wrapper [data-point-type]');\r\n    this.points = {};\r\n\r\n    window.addEventListener('scroll', this.handleScroll, false);\r\n    \r\n    this.setLogger(this.state.debug);\r\n\r\n    this.setState({\r\n      navStyles: {\r\n        // width has to be set because when the nav switches to a `fixed` width,\r\n        // the `flex` styling shrinks\r\n        width: `${this.leftNavW}px`,\r\n      }\r\n    }, () => {\r\n      this.handleScroll();\r\n    });\r\n  }\r\n  \r\n  handleClearBtnToggle() {\r\n    this.controlNavPosition({ heightChanged: true });\r\n  }\r\n\r\n  /**\r\n   * During a filter group's toggle animation, verify the nav has the correct\r\n   * sticking point. If this isn't checked at an interval during the animation,\r\n   * the nav could pop from bottom to top or visa versa. This makes the\r\n   * transition less jarring.\r\n   */\r\n  handleFilterGroupToggle() {\r\n    const { toggleSpeed } = this.props;\r\n    const interval = 10; // check every X milliseconds\r\n    let total = 0;\r\n\r\n    const checkPos = () => {\r\n      if(total < toggleSpeed){\r\n        this.controlNavPosition({ heightChanged: true });\r\n        window.requestAnimationFrame(checkPos);\r\n      }\r\n      total += interval;\r\n    };\r\n\r\n    window.requestAnimationFrame(checkPos);\r\n  }\r\n  \r\n  /**\r\n   * Recalculate the bottom bounds to account for the bottom of the wrapper\r\n   * scrolling into view.\r\n   */\r\n  calcBounds() {\r\n    const btmPoint = document.querySelector('.left-nav-wrapper [data-point-type=\"wrapperBtm\"]');\r\n    const rectY = btmPoint.getBoundingClientRect().y;\r\n  \r\n    this.navBounds.bottom = (rectY < window.innerHeight)\r\n      ? rectY\r\n      : window.innerHeight;\r\n  }\r\n  \r\n  handleScroll() {\r\n    this.scrollDirection = (this.prevScroll > window.pageYOffset) ? 'up' : 'down';\r\n    this.scrollAmount = Math.abs(window.pageYOffset - this.prevScroll);\r\n    this.prevScroll = window.pageYOffset;\r\n\r\n    this.calcBounds();\r\n    \r\n    for (let i=0; i<this.pointEls.length; i++) {\r\n      const point = this.pointEls[i];\r\n      const type = point.dataset.pointType;\r\n      const rect = point.getBoundingClientRect();\r\n\r\n      if(!this.points[type]) this.points[type] = {};\r\n\r\n      this.points[type].visible = rect.y >= this.navBounds.top && rect.y <= this.navBounds.bottom;\r\n      this.points[type].y = rect.y;\r\n    }\r\n\r\n    this.controlNavPosition();\r\n  }\r\n  \r\n  setClearBtnPosition(pos){\r\n    if(pos === this.clearBtnPos) return;\r\n\r\n    const clearBtnStyles = {\r\n      position: 'fixed',\r\n    };\r\n\r\n    switch(pos){\r\n      case navPositions.LOCK_TO_BOUNDS_BOTTOM:\r\n        clearBtnStyles.position = 'fixed';\r\n        break;\r\n\r\n      case navPositions.LOCK_TO_WRAPPER_BOTTOM:\r\n        clearBtnStyles.position = 'absolute';\r\n        break;\r\n    }\r\n\r\n    this.clearBtnPos = pos;\r\n\r\n    this.logger.log(`Clear button position = ${pos}`);\r\n\r\n    this.setState({ clearBtnStyles });\r\n  }\r\n\r\n  setNavPosition(pos) {\r\n    // Ensure the setting of DOM props doesn't happen more often then it has to.\r\n    if(pos === this.navPos) return;\r\n\r\n    const navStyles = { ...this.state.navStyles };\r\n\r\n    switch(pos){\r\n      case navPositions.SCROLL:\r\n        const offsetY = this.leftNavRef.current.getBoundingClientRect().y - this.leftNavWrapperRef.current.getBoundingClientRect().y;\r\n        navStyles.position = 'absolute';\r\n        navStyles.top = `${offsetY}px`;\r\n        navStyles.bottom = null;\r\n        break;\r\n\r\n      case navPositions.LOCK_TO_BOUNDS_TOP:\r\n        navStyles.position = 'fixed';\r\n        navStyles.top = `${this.navBounds.top}px`;\r\n        navStyles.bottom = null;\r\n        break;\r\n\r\n      case navPositions.LOCK_TO_BOUNDS_BOTTOM:\r\n        navStyles.position = 'fixed';\r\n        navStyles.top = null;\r\n        navStyles.bottom = 0;\r\n        break;\r\n\r\n      case navPositions.LOCK_TO_WRAPPER_BOTTOM:\r\n        navStyles.position = 'absolute';\r\n        navStyles.top = null;\r\n        navStyles.bottom = 0;\r\n        break;\r\n\r\n      default: // LOCK_TO_WRAPPER_TOP\r\n        navStyles.position = null;\r\n        navStyles.top = null;\r\n        navStyles.bottom = null;\r\n    }\r\n\r\n    this.navPos = pos;\r\n\r\n    this.logger.log(`Nav position = ${pos || '_unbound_'}`);\r\n\r\n    this.setState({ navStyles });\r\n  }\r\n\r\n  controlNavPosition({\r\n    heightChanged,\r\n  } = {}) {\r\n    const { sibling } = this.props;\r\n    \r\n    // Don't do anything if the nav is taller than it's sibling\r\n    if(sibling.offsetHeight < this.leftNavRef.current.offsetHeight) {\r\n      this.setNavPosition();\r\n      return;\r\n    }\r\n\r\n    if(heightChanged) this.logger.log('heightChanged');\r\n    \r\n    if(this.points){\r\n      const {\r\n        navBtm,\r\n        navTop,\r\n        wrapperBtm,\r\n        wrapperTop,\r\n      } = this.points;\r\n      const navFitsInView = this.leftNavRef.current.offsetHeight < this.navBounds.bottom - this.navBounds.top;\r\n      let navWithinBounds;\r\n      \r\n      // HEIGHT CHANGE =========================================================\r\n      if(heightChanged){\r\n        if(\r\n          !wrapperTop.visible\r\n          && navFitsInView\r\n        ){\r\n          this.setNavPosition(navPositions.LOCK_TO_BOUNDS_TOP);\r\n        }\r\n        else if(\r\n          wrapperBtm.visible\r\n          && !navFitsInView\r\n          || wrapperBtm.visible\r\n          && navBtm.y > wrapperBtm.y\r\n        ){\r\n          this.setNavPosition(navPositions.LOCK_TO_WRAPPER_BOTTOM);\r\n        }\r\n      }\r\n      // DOWN ==================================================================\r\n      else if(this.scrollDirection === 'down'){\r\n        navWithinBounds = (navBtm.y - this.scrollAmount) > this.navBounds.top;\r\n        \r\n        // [lock - to wrapper top]\r\n        if(\r\n          // IF - Wrapper top is in view, stick to wrapper top. This case usually\r\n          //      occurs on initial page load only.\r\n          wrapperTop.visible\r\n        ){\r\n          this.setNavPosition();\r\n        }\r\n        // [lock - to header bottom]\r\n        else if(\r\n          // IF - The top of the wrapper is hidden, and the nav can fit within\r\n          //      the viewing area.\r\n          !wrapperTop.visible\r\n          && navFitsInView\r\n        ) {\r\n          this.setNavPosition(navPositions.LOCK_TO_BOUNDS_TOP);\r\n        }\r\n        // [lock - to wrapper bottom]\r\n        else if(\r\n          // IF - Wrapper bottom is in view, AND the nav doesn't fit within the\r\n          //      viewing area, stick it to the bottom of the wrapper.\r\n          wrapperBtm.visible\r\n          && !navFitsInView\r\n        ){\r\n          this.setNavPosition(navPositions.LOCK_TO_WRAPPER_BOTTOM);\r\n        }\r\n        // [lock - to viewport bottom]\r\n        else if(\r\n          // IF - Wrapper bottom is not in view, AND nav bottom is in view, stick\r\n          //      to bottom stickPoint.\r\n          navBtm.visible\r\n          && !wrapperTop.visible\r\n          // OR - In some cases if a user was scrolling slowly, then yanks the\r\n          //      scrollbar (when the nav was in SCROLL), the nav will leave\r\n          //      the bounding box.\r\n          || !navWithinBounds\r\n          && !wrapperBtm.visible\r\n        ){\r\n          this.setNavPosition(navPositions.LOCK_TO_BOUNDS_BOTTOM);\r\n        }\r\n        // [scroll - with page]\r\n        else if(\r\n          // IF - The wrapper is visible, just scroll.\r\n          wrapperTop.visible\r\n          // OR - The top of the nav is visible, but the top of the wrapper is\r\n          //      not (the nav was locked to the top of the Results), so unlock\r\n          //      it, and allow it to scroll with the page again.\r\n          || navTop.visible\r\n          && !wrapperTop.visible\r\n          // OR - The nav was stuck to the top and needs to transition from the\r\n          //      top to bottom point.\r\n          || !navTop.visible\r\n          && !navBtm.visible\r\n          && !wrapperBtm.visible\r\n        ){\r\n          this.setNavPosition(navPositions.SCROLL);\r\n        }\r\n\r\n        if(!wrapperBtm.visible){\r\n          this.setClearBtnPosition(navPositions.LOCK_TO_BOUNDS_BOTTOM);\r\n        }else {\r\n          this.setClearBtnPosition(navPositions.LOCK_TO_WRAPPER_BOTTOM);\r\n        }\r\n      }\r\n      // UP ====================================================================\r\n      else if(this.scrollDirection === 'up') {\r\n        navWithinBounds = (navTop.y + this.scrollAmount) < this.navBounds.bottom;\r\n        \r\n        // [lock - to wrapper top]\r\n        if(\r\n          // IF - Wrapper top is in view, stick to wrapper top.\r\n          wrapperTop.visible\r\n        ){\r\n          this.setNavPosition();\r\n        }\r\n        // [lock - to viewport top]\r\n        else if(\r\n          // IF - Wrapper bottom is not in view, AND nav bottom is in view, stick\r\n          //      to bottom stickPoint.\r\n          navTop.visible\r\n          // OR - In some cases if a user was scrolling slowly, then yanks the\r\n          //      scrollbar (when the nav was in SCROLL), the nav will leave\r\n          //      the bounding box.\r\n          || !navWithinBounds\r\n          && !wrapperTop.visible\r\n        ) {\r\n          this.setNavPosition(navPositions.LOCK_TO_BOUNDS_TOP);\r\n        }\r\n        // [scroll - with page]\r\n        else if(\r\n          // IF - The bottom of the nav is in view and the bottom of the wrapper\r\n          //      is not (the nav is locked to the bottom of the viewport), so\r\n          //      pin the nav to it's current position relative to it's parent\r\n          //      to allow for normal scrolling.\r\n          navBtm.visible\r\n          && !wrapperBtm.visible\r\n        ){\r\n          this.setNavPosition(navPositions.SCROLL);\r\n        }\r\n\r\n        if(\r\n          !wrapperBtm.visible\r\n        ){\r\n          this.setClearBtnPosition(navPositions.LOCK_TO_BOUNDS_BOTTOM);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n    const {\r\n      clearBtnStyles,\r\n      navStyles,\r\n    } = this.state;\r\n    const positionProps = {\r\n      clearBtnStyles,\r\n      navStyles,\r\n      onClearBtnToggle: this.handleClearBtnToggle,\r\n      onFilterGroupToggle: this.handleFilterGroupToggle,\r\n      ref: {\r\n        navRef: this.leftNavRef,\r\n        wrapperRef: this.leftNavWrapperRef,\r\n      },\r\n    };\r\n    \r\n    // TODO - Might be more efficient to do this on `mount` and in `getDerivedStateFromProps`\r\n    const childrenWithProps = Children.map(children,\r\n      (child) => cloneElement(child, positionProps)\r\n    );\r\n\r\n    return <Fragment>{childrenWithProps}</Fragment>\r\n  }\r\n}\r\n\r\nexport default LeftNavPosition;\r\n","import {css} from 'glamor';\n\nexport default {\n  root: css({\n    width: '25%',\n    padding: '0.25em',\n    display: 'inline-block',\n    \n    ' img': {\n      width: '100%',\n      background: '#eee',\n    },\n    \n    ' h4': {\n      padding: 0,\n      margin: 0,\n    },\n    \n    ' h6': {\n      padding: 0,\n      margin: 0,\n    },\n  }),\n};\n","import React from 'react';\nimport styles from './styles';\n\nconst emptyImg = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\n\nexport default ({\n  price,\n  subtitle,\n  title,\n}) => (\n  <div className={`product ${styles.root}`}>\n    <img src={emptyImg} alt=\"Item\" />\n    <h4>{title}</h4>\n    <h6>{subtitle}</h6>\n  </div>\n);\n","import React, { forwardRef } from 'react';\nimport Product from '../Product';\n\nexport default forwardRef(({ items }, ref) => (\n  <div className=\"products\" ref={ref}>\n    {items.map((item, ndx) => <Product key={ndx} {...item} />)}\n  </div>\n));\n","import {css} from 'glamor';\n\nconst fontSize = '1.5em';\nexport default {\n  root: css({\n    padding: '1em',\n    display: 'flex',\n    background: '#fff',\n\n    ' .results-header': {\n\n      '&__title': {\n        fontSize,\n        lineHeight: fontSize,\n        flex: 1,\n      },\n\n      '&__nav': {\n        lineHeight: fontSize,\n      },\n\n      '&__sort': {\n        marginTop: '0.6em',\n      },\n    },\n  }),\n};\n","import React, { forwardRef } from 'react';\nimport styles from './styles';\n\nexport default forwardRef(({\n  placeholderStyles,\n  title,\n}, headerRef) => (\n  <header\n    className={`results-header ${styles.root}`}\n    ref={headerRef}\n  >\n    <div className=\"results-header__title title-font\">{title}</div>\n    <nav className=\"results-header__nav\">\n      <select className=\"results-header__sort\">\n        <option>Opt 1</option>\n        <option>Opt 2</option>\n        <option>Opt 3</option>\n        <option>Opt 4</option>\n      </select>\n    </nav>\n  </header>\n));\n","import React, {\r\n  Component,\r\n  Fragment,\r\n} from 'react';\r\n\r\nconst stickySupported = () => {\r\n  const el = document.createElement('a');\r\n  const mStyle = el.style;\r\n  mStyle.cssText = \"position:sticky;position:-webkit-sticky;position:-ms-sticky;\";\r\n  return mStyle.position.indexOf('sticky') !== -1;\r\n};\r\n\r\nclass ResultsHeaderPosition extends Component {\r\n  constructor(props) {\r\n    super();\r\n\r\n    this.handleScroll = this.handleScroll.bind(this);\r\n  }\r\n  \r\n  componentDidMount() {\r\n    const { headerRef } = this.props;\r\n    \r\n    this.setHeaderPosition();\r\n    \r\n    window.addEventListener('scroll', this.handleScroll, false);\r\n    \r\n    if(!stickySupported()){\r\n      headerRef.current.classList.add('sticky');\r\n      window.Stickyfill.add(document.querySelectorAll('.sticky'));\r\n    }\r\n    \r\n    this.handleScroll();\r\n  }\r\n  \r\n  componentWillUnmount() {\r\n    window.removeEventListener('scroll', this.handleScroll);\r\n  }\r\n  \r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { boundsTop } = this.props;\r\n    \r\n    if(boundsTop !== prevProps.boundsTop) this.setHeaderPosition();\r\n  }\r\n  \r\n  setHeaderPosition() {\r\n    const {\r\n      boundsTop,\r\n      headerRef,\r\n    } = this.props;\r\n    \r\n    headerRef.current.style.top = `${boundsTop}px`;\r\n  }\r\n  \r\n  handleScroll() {\r\n    this.controlHeaderPosition();\r\n  }\r\n  \r\n  controlHeaderPosition() {\r\n    const {\r\n      boundsTop,\r\n      headerRef,\r\n    } = this.props;\r\n    \r\n    // NOTE - setting attributes directly on element since React doesn't\r\n    // update the DOM fast enough, which results in choppy paint when the header\r\n    // becomes (un)locked.    \r\n    if(window.pageYOffset >= boundsTop){\r\n      headerRef.current.classList.add('is--sticky');\r\n    }\r\n    else {\r\n      headerRef.current.classList.remove('is--sticky');\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n    \r\n    return <Fragment>{children}</Fragment>\r\n  }\r\n}\r\n\r\nexport default ResultsHeaderPosition;\r\n","import React, { Component } from 'react';\n\nclass Number extends Component {\n  constructor() {\n    super();\n\n    this.sanitize = this.sanitize.bind(this);\n  }\n\n  sanitize(ev) {\n    const {\n      min,\n      onChange,\n    } = this.props;\n    const val = +ev.currentTarget.value;\n\n    onChange( (val < min) ? min : val );\n  }\n\n  render() {\n    const {\n      label,\n      value,\n    } = this.props;\n\n    return (\n      <label>\n        <span className=\"label-text\">{label}</span>\n        <input type=\"number\" onChange={this.sanitize} value={value}/>\n      </label>\n    );\n  }\n}\n\nexport default Number;\n","import {css} from 'glamor';\n\nexport const DOCK_TO_RIGHT = 'docked--right';\nconst borderColor = '#666';\nexport default {\n  root: css({\n    minHeight: '50%',\n    padding: '1em',\n    border: `solid 1px ${borderColor}`,\n    borderRight: 'none',\n    borderRadius: '0.5em 0em 0em 0.5em',\n    background: '#eee',\n    position: 'fixed',\n    transition: 'transform 200ms',\n\n    ' label': {\n      margin: '0.5em',\n      userSelect: 'none',\n\n      ' > .label-text': {\n        flex: '1 0 0',\n      },\n\n      ' > input': {\n        marginLeft: '0.5em',\n      },\n    },\n\n    ' [type=\"number\"]': {\n      maxWidth: '4em',\n      textAlign: 'center',\n    },\n\n    ' .toolbox': {\n\n      '&__toggle-btn': {\n        padding: 0,\n        overflow: 'hidden',\n        border: 'none',\n        background: 'transparent',\n        cursor: 'pointer',\n        position: 'absolute',\n        outline: 'none',\n\n        '::before': {\n          content: `''`,\n          width: '4em',\n          height: '4em',\n          border: `solid 1px ${borderColor}`,\n          borderRadius: '100%',\n          background: '#eee',\n          display: 'block',\n          position: 'absolute',\n          top: '50%',\n          left: '50%',\n          zIndex: -1,\n        },\n      },\n    },\n\n    [`.${DOCK_TO_RIGHT}`]: {\n      top: '50%',\n      right: 0,\n      transform: 'translate(100%, -50%)',\n\n      ' .toolbox': {\n\n        '&__toggle-btn': {\n          width: '2.4em',\n          height: '5em',\n          top: '50%',\n          right: '100%',\n          transform: 'translateY(-50%)',\n\n          '::before': {\n            transform: 'translate(-30%, -50%)',\n          },\n        },\n\n        '&__tools > *': {\n          display: 'flex',\n        },\n      },\n\n      '.is--open': {\n        transform: 'translate(0%, -50%)',\n      },\n    }\n  }),\n};\n","import React, { Component } from \"react\";\nimport Number from './components/Number';\nimport Toggle from './components/Toggle';\nimport styles, {\n  DOCK_TO_RIGHT,\n} from \"./styles\";\n\nconst Tools = {\n  Number,\n  Toggle,\n};\n\nclass Toolbox extends Component {\n  constructor(props) {\n    super();\n\n    this.state = {\n      opened: false,\n    };\n\n    this.handleOpenClick = this.handleOpenClick.bind(this);\n  }\n\n  handleOpenClick(ev) {\n    this.setState({\n      opened: !this.state.opened,\n    });\n  }\n\n  render() {\n    const {\n      children,\n      className,\n      position,\n    } = this.props;\n    const {\n      opened,\n    } = this.state;\n    let modifiers = position;\n\n    if(opened) modifiers += ' is--open';\n\n    return (\n      <div className={`toolbox ${styles.root} ${className} ${modifiers}`}>\n        <button\n          className=\"toolbox__toggle-btn\"\n          onClick={this.handleOpenClick}\n        >&#x2630;</button>\n        <div className=\"toolbox__tools\">\n          {children}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Toolbox;\nexport {\n  DOCK_TO_RIGHT,\n  Tools,\n};\n","import React from 'react';\n\nexport default ({\n  label,\n  onChange,\n  toggled,\n}) => (\n  <label>\n    <span className=\"label-text\">{label}</span>\n    <input type=\"checkbox\" onChange={onChange} checked={toggled}/>\n  </label>\n);\n","import {css} from 'glamor';\n\nexport default {\n  root: css({\n    textAlign: 'center',\n    padding: '1em',\n    borderBottom: 'solid 1px #ccc',\n    boxShadow: '0 0 1em 0.5em #00000020',\n    background: '#eee',\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    right: 0,\n\n    ' a': {\n      color: '#333',\n      textDecoration: 'none',\n      textTransform: 'uppercase',\n      padding: '1em',\n      position: 'relative',\n\n      ':hover::after': {\n        content: `''`,\n        width: '100%',\n        height: '2px',\n        background: '#333',\n        position: 'absolute',\n        bottom: 0,\n        left: 0,\n      },\n    },\n  }),\n};\n","import React, { forwardRef } from \"react\";\nimport styles from \"./styles\";\n\nexport default forwardRef(({ items }, ref) => (\n  <nav\n    className={`top-nav ${styles.root}`}\n    ref={ref}\n  >\n    {items.map((item, ndx) => (\n      <a\n        key={ndx}\n        className=\"top-nav__link title-font\"\n        href={item.url}\n      >\n        {item.label}\n      </a>\n    ))}\n  </nav>\n));\n","export default [\n  {\n    label: 'Men',\n    url: 'https://site.com/page/mens',\n  },\n  {\n    label: 'Women',\n    url: 'https://site.com/page/women',\n  },\n  {\n    label: 'Kids',\n    url: 'https://site.com/page/kids',\n  },\n  {\n    label: 'Customize',\n    url: 'https://site.com/page/customize',\n  },\n];\n","/*\r\n  eslint-disable\r\n    default-case,\r\n*/\r\n\r\nimport React, {\r\n  createRef,\r\n  Component,\r\n  Fragment,\r\n} from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport styles from './styles';\r\nimport Banner from './components/Banner';\r\nimport Footer from './components/Footer';\r\nimport LeftNav, { TOGGLE_SPEED } from './components/LeftNav';\r\nimport LeftNavPosition from './components/LeftNavPosition';\r\nimport Products from './components/Products';\r\nimport ResultsHeader from './components/ResultsHeader';\r\nimport ResultsHeaderPosition from './components/ResultsHeaderPosition';\r\nimport Toolbox, { DOCK_TO_RIGHT, Tools } from './components/Toolbox';\r\nimport TopNav from './components/TopNav';\r\nimport {\r\n  categories as genCategories,\r\n  filters as genFilters,\r\n} from './data/leftNav';\r\nimport genProducts from './data/products';\r\nimport topNavData from './data/topNav';\r\n\r\nconst CATEGORY_COUNT = 10;\r\nconst FILTER_COUNT = 3;\r\nconst FILTER_CHILD_COUNT = 5;\r\nconst PRODUCT_COUNT = 24;\r\n\r\nclass App extends Component {\r\n  static parseQueryParams(params) {\r\n    const ret = {};\r\n\r\n    params.replace(/^\\?/, '').split('&').forEach((param) => {\r\n      const data = param.split('=');\r\n      ret[data[0]] = data[1];\r\n    });\r\n\r\n    return ret;\r\n  }\r\n\r\n  static updateQuery({ _default, name, value }) {\r\n    return () => {\r\n      const rawParams = window.location.search;\r\n      const updatedParams = [];\r\n\r\n      // If there current params, determine if they need to be updated or removed\r\n      if(rawParams){\r\n        const params = App.parseQueryParams(rawParams);\r\n\r\n        if(\r\n          // doesn't exist, add it\r\n          !params[name]\r\n          // exists, and value doesn't equal default\r\n          || value !== _default\r\n        ){\r\n          params[name] = value;\r\n        }\r\n        // exists, but it's the default, so kill it\r\n        else if(params[name]){\r\n          delete params[name];\r\n        }\r\n\r\n        Object.keys(params).forEach((name) => {\r\n          updatedParams.push(`${name}=${params[name]}`);\r\n        });\r\n      }\r\n      // If there are no params, just add\r\n      else {\r\n        updatedParams.push(`${name}=${value}`);\r\n      }\r\n\r\n      const paramsString = (updatedParams.length)\r\n        ? `?${updatedParams.join('&')}`\r\n        : '';\r\n      window.history.replaceState({}, '', `${window.location.pathname}${paramsString}`);\r\n    };\r\n  }\r\n\r\n  static getStateFromQueryString(state) {\r\n    const _state = { ...state };\r\n    const params = App.parseQueryParams(window.location.search);\r\n\r\n    Object.keys(params).forEach((name) => {\r\n      if(_state[name] !== undefined) {\r\n        // ensure params are typecast back to their original types\r\n        const prevVal = _state[name];\r\n        let newVal = params[name];\r\n\r\n        switch(typeof prevVal){\r\n          case 'boolean':\r\n            newVal = Boolean(newVal);\r\n            break;\r\n          case 'number':\r\n            newVal = +newVal;\r\n            break;\r\n        }\r\n\r\n        _state[name] = newVal;\r\n      }\r\n    });\r\n\r\n    return _state;\r\n  }\r\n\r\n  static generateData(state) {\r\n    const _state = { ...state };\r\n\r\n    if(_state.categoryCount) _state.categories = genCategories(_state.categoryCount);\r\n    if(_state.filterCount && _state.filterChildCount) _state.filters = genFilters(\r\n      _state.filterCount,\r\n      _state.filterChildCount,\r\n    );\r\n    if(_state.productCount) _state.products = genProducts(_state.productCount);\r\n\r\n    return _state;\r\n  }\r\n\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = App.generateData({\r\n      categoryCount: CATEGORY_COUNT,\r\n      debug: false,\r\n      filterCount: FILTER_COUNT,\r\n      filterChildCount: FILTER_CHILD_COUNT,\r\n      headerTopBounds: undefined,\r\n      navTopBounds: undefined,\r\n      navBtmBounds: undefined,\r\n      productCount: PRODUCT_COUNT,\r\n      shelfOpened: false,\r\n    });\r\n\r\n    this.topNavRef = createRef();\r\n    this.headerRef = createRef();\r\n    this.productsRef = createRef();\r\n\r\n    this.handleCategoryCountChange = this.handleCategoryCountChange.bind(this);\r\n    this.handleDebugToggle = this.handleDebugToggle.bind(this);\r\n    this.handleFilterChildCountChange = this.handleFilterChildCountChange.bind(this);\r\n    this.handleFilterCountChange = this.handleFilterCountChange.bind(this);\r\n    this.handleProductCountChange = this.handleProductCountChange.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    const headerHeight = this.headerRef.current.offsetHeight;\r\n    const topNavHeight = this.topNavRef.current.offsetHeight;\r\n    \r\n    this.setState(App.generateData({\r\n      ...App.getStateFromQueryString(this.state),\r\n      // TODO - Update `headerTopBounds` if that value is based off responsive elements\r\n      // that could change height after a `resize`.\r\n      headerTopBounds: topNavHeight,\r\n      navTopBounds: topNavHeight + headerHeight,\r\n      navBtmBounds: window.innerHeight,\r\n    }));\r\n  }\r\n\r\n  handleDebugToggle() {\r\n    const debug = !this.state.debug;\r\n\r\n    this.setState({\r\n      debug,\r\n    }, App.updateQuery({\r\n      _default: false,\r\n      name: 'debug',\r\n      value: debug,\r\n    }));\r\n  }\r\n\r\n  handleProductCountChange(productCount) {\r\n    this.setState(App.generateData({\r\n      productCount,\r\n    }), App.updateQuery({\r\n      _default: PRODUCT_COUNT,\r\n      name: 'productCount',\r\n      value: productCount,\r\n    }));\r\n  }\r\n\r\n  handleCategoryCountChange(categoryCount) {\r\n    this.setState(App.generateData({\r\n      categoryCount,\r\n    }), App.updateQuery({\r\n      _default: CATEGORY_COUNT,\r\n      name: 'categoryCount',\r\n      value: categoryCount,\r\n    }));\r\n  }\r\n\r\n  handleFilterCountChange(filterCount) {\r\n    this.setState(App.generateData({\r\n      filterCount,\r\n      filterChildCount: this.state.filterChildCount,\r\n    }), App.updateQuery({\r\n      _default: FILTER_COUNT,\r\n      name: 'filterCount',\r\n      value: filterCount,\r\n    }));\r\n  }\r\n\r\n  handleFilterChildCountChange(filterChildCount) {\r\n    this.setState(App.generateData({\r\n      filterCount: this.state.filterCount,\r\n      filterChildCount,\r\n    }), App.updateQuery({\r\n      _default: FILTER_CHILD_COUNT,\r\n      name: 'filterChildCount',\r\n      value: filterChildCount,\r\n    }));\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      categories,\r\n      categoryCount,\r\n      debug,\r\n      filters,\r\n      filterCount,\r\n      filterChildCount,\r\n      headerTopBounds,\r\n      navBtmBounds,\r\n      navTopBounds,\r\n      productCount,\r\n      products,\r\n    } = this.state;\r\n    let appModifier = '';\r\n\r\n    if(debug){\r\n      appModifier += ' debug';\r\n    }\r\n\r\n    return (\r\n      <Fragment>\r\n        <div className={`${styles.app} ${appModifier}`}>\r\n          <TopNav\r\n            items={topNavData}\r\n            ref={this.topNavRef}\r\n          />\r\n          <div className=\"body\">\r\n            <Banner />\r\n            <ResultsHeaderPosition\r\n              boundsTop={headerTopBounds}\r\n              headerRef={this.headerRef}\r\n            >\r\n              <ResultsHeader\r\n                ref={this.headerRef}\r\n                title=\"Results Title\"\r\n              />\r\n            </ResultsHeaderPosition>\r\n            <div className=\"results-interface\">\r\n              <LeftNavPosition\r\n                boundsBottom={navBtmBounds}\r\n                boundsTop={navTopBounds}\r\n                debug={debug}\r\n                sibling={this.productsRef.current}\r\n                toggleSpeed={TOGGLE_SPEED}\r\n              >\r\n                <LeftNav\r\n                  categories={categories}\r\n                  filters={filters}\r\n                />\r\n              </LeftNavPosition>\r\n              <div className=\"products__wrapper\">\r\n                <Products items={products} ref={this.productsRef} />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <Footer />\r\n        </div>\r\n        <Toolbox\r\n          className={`${styles.toolbox}`}\r\n          position={DOCK_TO_RIGHT}\r\n        >\r\n          <Tools.Toggle\r\n            label=\"Debug\"\r\n            onChange={this.handleDebugToggle}\r\n            toggled={debug}\r\n          />\r\n          <Tools.Number\r\n            label=\"Product Count\"\r\n            min={1}\r\n            onChange={this.handleProductCountChange}\r\n            value={productCount}\r\n          />\r\n          <Tools.Number\r\n            label=\"Category Count\"\r\n            min={1}\r\n            onChange={this.handleCategoryCountChange}\r\n            value={categoryCount}\r\n          />\r\n          <Tools.Number\r\n            label=\"Filters Count\"\r\n            min={1}\r\n            onChange={this.handleFilterCountChange}\r\n            value={filterCount}\r\n          />\r\n          <Tools.Number\r\n            label=\"Filters Child Count\"\r\n            min={1}\r\n            onChange={this.handleFilterChildCountChange}\r\n            value={filterChildCount}\r\n          />\r\n        </Toolbox>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst rootElement = document.getElementById('root');\r\nReactDOM.render(<App />, rootElement);\r\n","export const categories = (count) => Array(count).fill().map((item, ndx) => ({\n  label: `Category ${ndx+1}`,\n  url: `/category-${ndx+1}`,\n}));\n\nexport const filters = (count, childCount) => {\n  const _filters = {};\n\n  for(let i=0; i<count; i++){\n    _filters[`Filter ${i+1}`] = Array(childCount).fill().map((item, ndx) => ({\n      label: `Filter ${ndx+1}`,\n      url: `/filter-${ndx+1}`,\n    }));\n  }\n\n  return _filters;\n};\n","export default (count) => Array(count).fill().map(() => ({\n  title: 'Title',\n  subtitle: 'Sub Title',\n  price: '$100',\n}));\n"],"sourceRoot":""}