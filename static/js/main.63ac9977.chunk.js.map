{"version":3,"sources":["styles.js","components/Banner/styles.js","components/Banner/index.js","components/Footer/styles.js","components/Footer/index.js","components/Point/styles.js","components/Point/index.js","components/LeftNav/styles.js","components/LeftNav/index.js","components/Product/styles.js","components/Product/index.js","components/Results/index.js","components/ResultsHeader/styles.js","components/ResultsHeader/index.js","components/Toolbox/components/Number/index.js","components/Toolbox/styles.js","components/Toolbox/index.js","components/Toolbox/components/Toggle/index.js","components/TopNav/styles.js","components/TopNav/index.js","data/topNav.js","index.js","data/leftNav.js","data/products.js"],"names":["CROSSHAIR_RADIUS","Math","round","CROSSHAIR_POINT_RADIUS","crosshair","i","j","push","concat","join","styles","app","css","font","position"," .top-nav","zIndex"," .body","paddingTop"," .title-font","fontFamily","color","letterSpacing"," .results-interface","display"," .results-header","left","boxShadow","&__title","transform","transformOrigin","transition",".is--sticky"," .results-header__title"," .left-nav-wrapper","minWidth","padding"," .left-nav","background","&__clear-btn","width","&__wrapper-top-point,&__top-point,&__wrapper-btm-point,&__btm-point","&__wrapper-top-point,&__top-point","top","&__wrapper-btm-point,&__btm-point","bottom"," .results__wrapper","flex","paddingLeft"," .footer","marginTop",".debug","opacity","backgroundColor","backgroundImage","diagonalLineThickness","::after","content","height","border","borderRadius","&__wrapper-top-point,&__wrapper-btm-point","&__top-point,&__btm-point","toolbox","Banner_styles","root","textAlign","Banner","react_default","a","createElement","className","Footer_styles","Footer","Point_styles","pointerEvents","Point","_ref","type","data-point-type","link","whiteSpace","textDecoration","revealSpeed","LeftNav_styles","overflow","filterFocusIndicatorWidth","marginLeft","&__category-link","Object","objectSpread","&__filter-group","borderBottom","margin","&__filter-group-btn","cursor","outline","userSelect","right",":focus::before",".is--open::after","&__filter-group-content","&__filter-link","::before","marginRight","verticalAlign",".is--selected::before",".show--clear","paddingBottom","LeftNav","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","showClearFilters","filters","extend","handleClearClick","bind","assertThisInitialized","handleFilterClick","handleFilterGroupToggle","_this2","onClearBtnToggle","setState","clearBtnTimer","setTimeout","ev","_this3","preventDefault","data","currentTarget","dataset","selected","filter","filterNdx","selectedFiltersCount","clearTimeout","onFilterGroupToggle","_this4","_this$props","categories","clearBtnStyles","navRef","navStyles","wrapperRef","navModifier","ref","style","map","item","ndx","key","href","url","onClick","noOp","label","keys","filterGroup","groupNdx","group","Collapsible_default","contentInnerClassName","onOpen","onClose","openedClassName","tabIndex","transitionTime","trigger","triggerClassName","triggerOpenedClassName","modifier","data-filter","data-filter-ndx","disabled","Component","forwardRef","LeftNav_LeftNav","assign","Product_styles"," img"," h4"," h6","Product","price","subtitle","title","src","alt","Results","items","ResultsHeader_styles","fontSize","lineHeight","&__nav","&__sort","headerRef","placeholderStyles","Number","sanitize","min","onChange","val","value","_this$props2","Toolbox_styles","defineProperty","minHeight","borderRight"," label"," > .label-text"," > input"," [type=\"number\"]","maxWidth"," .toolbox","&__toggle-btn","&__tools > *",".is--open","Tools","Toggle","toggled","checked","Toolbox","opened","handleOpenClick","children","modifiers","TopNav_styles"," a","textTransform",":hover::after","TopNav","topNav","CATEGORY_COUNT","FILTER_COUNT","FILTER_CHILD_COUNT","PRODUCT_COUNT","navPositions","dummyLogger","log","debugLogger","window","console","logger","App","generateData","categoryCount","undefined","debug","filterCount","filterChildCount","productCount","shelfOpened","topNavRef","createRef","leftNavRef","leftNavWrapperRef","resultsRef","controlHeaderPosition","handleCategoryCountChange","handleDebugToggle","handleFilterChildCountChange","handleClearBtnToggle","handleFilterCountChange","handleProductCountChange","handleScroll","params","ret","replace","split","forEach","param","_default","name","rawParams","location","search","updatedParams","parseQueryParams","paramsString","length","history","replaceState","pathname","_state","prevVal","newVal","Boolean","count","Array","fill","childCount","_filters","genFilters","products","genProducts","init","mStyle","headerH","current","offsetHeight","topNavH","leftNavW","offsetWidth","maxHeaderY","maxNavY","scrollDirection","classList","add","pointEls","document","querySelectorAll","points","navBounds","innerHeight","addEventListener","cssText","indexOf","Stickyfill","getStateFromQueryString","removeEventListener","navObserver","disconnect","updateQuery","controlNavPosition","heightChanged","rectY","querySelector","getBoundingClientRect","y","prevScroll","pageYOffset","calcBounds","point","pointType","rect","visible","remove","pos","clearBtnPos","navPos","offsetY","arguments","setNavPosition","_this$points","navBtm","navTop","pointsVisible","wrapperBtm","wrapperTop","navFitsInView","setClearBtnPosition","_this$state","appModifier","react","topNavData","ResultsHeader","components_LeftNav","components_Toolbox","rootElement","getElementById","ReactDOM","render","src_App"],"mappings":"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","file":"static/js/main.63ac9977.chunk.js","sourcesContent":["import {css} from 'glamor';\n\nconst CROSSHAIR_COLOR = '#000';\nconst CROSSHAIR_POINT_RADIUS = 20;\nconst CROSSHAIR_RADIUS = Math.round(CROSSHAIR_POINT_RADIUS/2) + 3;\nlet crosshair = [];\n\nfor(let i=0; i<4; i++){\n  for(let j=0; j<CROSSHAIR_RADIUS; j++){\n    if(i === 0) crosshair.push(`0px -${j+1}px 0px 0px ${CROSSHAIR_COLOR}`);\n    else if(i === 1) crosshair.push(`${j+1}px 0px 0px 0px ${CROSSHAIR_COLOR}`);\n    else if(i === 2) crosshair.push(`0px ${j+1}px 0px 0px ${CROSSHAIR_COLOR}`);\n    else if(i === 3) crosshair.push(`-${j+1}px 0px 0px 0px ${CROSSHAIR_COLOR}`);\n  }\n}\ncrosshair = crosshair.join(',');\n\nconst diagonalLineThickness = 3;\nconst LAYER1_INDEX = 9;\nconst LAYER2_INDEX = 10;\nconst NAV_WIDTH = 200;\nexport default {\n  app: css({\n    font: '16px Helvetica, Arial, sans-serif',\n    position: 'relative',\n    \n    ' .top-nav': {\n      zIndex: LAYER2_INDEX,\n    },\n    \n    ' .body': {\n      paddingTop: '3.3em',\n      position: 'relative',\n    },\n\n    ' .title-font': {\n      fontFamily: 'impact',\n      color: '#444',\n      letterSpacing: '1px',\n    },\n\n    ' .results-interface': {\n      display: 'flex',\n    },\n\n    ' .results-header': {\n      position: 'sticky',\n      left: 0,\n      zIndex: LAYER1_INDEX,\n      // Accounts for pixel offset in webkit browsers, which was allowing for\n      // child content to be visible underneath as you scroll. :\\\n      boxShadow: '0 -2px 0 0 #fff',\n\n      '&__title': {\n        transform: 'scale(1)',\n        transformOrigin: 'left center',\n        transition: 'transform 200ms',\n      },\n\n      '.is--sticky': {\n\n        ' .results-header__title': {\n          transform: 'scale(0.75)',\n        }\n      },\n    },\n\n    ' .left-nav-wrapper': {\n      minWidth: `${NAV_WIDTH}px`,\n      padding: '0 0 1em 1em',\n    },\n\n    ' .left-nav': {\n      paddingTop: '0.3em',\n      background: '#fff',\n      \n      '&__clear-btn': {\n        width: `${NAV_WIDTH}px`,\n      },\n\n      '&__wrapper-top-point,&__top-point,&__wrapper-btm-point,&__btm-point': {\n        position: 'absolute',\n        left: '50%',\n        transform: 'translateX(-50%)',\n      },\n\n      '&__wrapper-top-point,&__top-point': {\n        top: 0,\n      },\n\n      '&__wrapper-btm-point,&__btm-point': {\n        bottom: 0,\n      },\n    },\n\n    ' .results__wrapper': {\n      flex: 1,\n      paddingLeft: '1em',\n    },\n\n    ' .footer': {\n      marginTop: '2em',\n      // addresses a FOC when the nav sometimes flashes above the footer\n      position: 'relative',\n      zIndex: LAYER2_INDEX,\n    },\n\n    '.debug': {\n      ' .results-header': {\n        opacity: 0.75,\n      },\n      \n      ' .left-nav-wrapper': {\n        backgroundColor: '#ddd',\n        backgroundImage: `repeating-linear-gradient(\n          -45deg,\n          #ddd,\n          #ddd ${diagonalLineThickness}px,\n          #fff ${diagonalLineThickness}px,\n          #fff ${diagonalLineThickness * 3}px\n        )`,\n      },\n\n      ' .left-nav': {\n\n        '&__wrapper-top-point,&__top-point,&__wrapper-btm-point,&__btm-point': {\n          background: CROSSHAIR_COLOR,\n          boxShadow: crosshair,\n\n          '::after': {\n            content: `''`,\n            width: `${CROSSHAIR_POINT_RADIUS}px`,\n            height: `${CROSSHAIR_POINT_RADIUS}px`,\n            border: 'solid 1px',\n            borderRadius: '100%',\n            display: 'block',\n            position: 'absolute',\n            transform: 'translate(-50%, -50%)',\n          },\n        },\n\n        '&__wrapper-top-point,&__wrapper-btm-point': {\n          '::after': {\n            background: '#00ff0020',\n          },\n        },\n\n        '&__top-point,&__btm-point': {\n          '::after': {\n            background: '#ff000020',\n          },\n        },\n      },\n    },\n  }),\n  \n  toolbox: css({\n    zIndex: LAYER2_INDEX,\n  }),\n};\n","import {css} from 'glamor';\n\nexport default {\n  root: css({\n    textAlign: 'center',\n    padding: '1em',\n    background: '#eee',\n  }),\n};\n","import React from 'react';\nimport styles from './styles';\n\nexport default () => (\n  <div className={`banner ${styles.root}`}>Banner</div>\n);\n","import {css} from 'glamor';\n\nexport default {\n  root: css({\n    color: '#eee',\n    textAlign: 'center',\n    padding: '1em',\n    background: '#333',\n  }),\n};\n","import React from 'react';\nimport styles from './styles';\n\nexport default () => (\n  <div className={`footer ${styles.root}`}>Footer</div>\n);\n","import {css} from 'glamor';\n\nexport default {\n  root: css({\n    width: '1px',\n    height: '1px',\n    display: 'inline-block',\n    pointerEvents: 'none',\n  }),\n};\n","import React from 'react';\nimport styles from './styles';\n\nexport default ({\n  className,\n  type,\n}) => (\n  <div\n    className={`point ${styles.root} ${className}`}\n    data-point-type={type}\n  />\n);\n","import {css} from 'glamor';\n\nconst link = {\n  color: '#333',\n  whiteSpace: 'nowrap',\n  textDecoration: 'none',\n  padding: '0 0 0.4em',\n  display: 'block',\n};\nconst filterFocusIndicatorWidth = 4;\nconst filterFocusIndicatorOffset = 8;\nexport const TOGGLE_SPEED = 200;\nconst revealSpeed = `${TOGGLE_SPEED}ms`;\nexport default {\n  root: css({\n    position: 'relative',\n    overflow: 'hidden',\n\n    ' .left-nav': {\n      paddingLeft: `${filterFocusIndicatorWidth + filterFocusIndicatorOffset}px`,\n      marginLeft: `-${filterFocusIndicatorWidth + filterFocusIndicatorOffset}px`,\n      position: 'relative',\n      transition: `padding-bottom ${revealSpeed}`,\n\n      '&__category-link': {\n        ...link,\n      },\n\n      '&__filter-group': {\n        borderBottom: 'solid 1px #666',\n        margin: '0.75em 0',\n      },\n\n      '&__filter-group-btn': {\n        padding: '0.5em 0',\n        display: 'block',\n        cursor: 'pointer',\n        outline: 'none',\n        position: 'relative',\n        userSelect: 'none',\n\n        '::after': {\n          content: '\\\\002B',\n          position: 'absolute',\n          top: '50%',\n          right: 0,\n          transform: 'translateY(-50%)',\n        },\n\n        ':focus::before': {\n          content: `''`,\n          width: `${filterFocusIndicatorWidth}px`,\n          background: '#333',\n          position: 'absolute',\n          top: '25%',\n          bottom: '25%',\n          left: `-${filterFocusIndicatorOffset}px`,\n        },\n\n        '.is--open::after': {\n          content: '\\\\2212',\n        },\n      },\n\n      '&__filter-group-content': {\n        padding: '0.5em 0',\n      },\n\n      '&__filter-link': {\n        ...link,\n\n        '::before': {\n          content: `''`,\n          width: '1em',\n          height: '1em',\n          border: 'solid 1px',\n          marginRight: '0.5em',\n          display: 'inline-block',\n          verticalAlign: 'top',\n        },\n\n        '.is--selected::before': {\n          background: '#333',\n        },\n      },\n\n      '&__clear-btn': {\n        color: '#eee',\n        padding: '0.5em 1em',\n        border: 'none',\n        background: '#333',\n        cursor: 'pointer',\n        position: 'absolute',\n        bottom: '1em',\n        left: '1em',\n        transform: 'translateY(160%)',\n        transition: `transform ${revealSpeed}`,\n      },\n    },\n    \n    '.show--clear': {\n\n      ' .left-nav': {\n        paddingBottom: '3em',\n        \n        '&__clear-btn': {\n          transform: 'translateY(0%)',\n        },\n      },\n    },\n  }),\n};\n","import React, { forwardRef, Component } from \"react\";\nimport Collapsible from 'react-collapsible';\nimport extend from 'extend';\nimport Point from '../Point';\nimport styles, { TOGGLE_SPEED } from \"./styles\";\n\nclass LeftNav extends Component {\n  constructor(props) {\n    super();\n\n    this.state = {\n      showClearFilters: false,\n    };\n    this.filters = extend(true, {}, props.filters);\n\n    this.handleClearClick = this.handleClearClick.bind(this);\n    this.handleFilterClick = this.handleFilterClick.bind(this);\n    this.handleFilterGroupToggle = this.handleFilterGroupToggle.bind(this);\n  }\n  \n  handleClearClick() {\n    const { onClearBtnToggle } = this.props;\n    this.filters = extend(true, {}, this.props.filters);\n    \n    this.setState({\n      showClearFilters: false,\n    }, () => {\n      this.clearBtnTimer = setTimeout(() => {\n        onClearBtnToggle();\n      }, TOGGLE_SPEED);\n    });\n  }\n  \n  handleFilterClick(ev) {\n    ev.preventDefault();\n    \n    const { onClearBtnToggle } = this.props;\n    const data = ev.currentTarget.dataset;\n    const filter = this.filters[data.filter][data.filterNdx];\n    const selected = !filter.selected;\n    let showClearFilters = this.state.showClearFilters;\n\n    if(selected){\n      showClearFilters = true;\n    } else if(!selected && this.selectedFiltersCount - 1 === 0) {\n      showClearFilters = false;\n    }\n    \n    this.filters[data.filter][data.filterNdx].selected = selected;\n\n    this.setState({\n      showClearFilters,\n    }, () => {\n      clearTimeout(this.clearBtnTimer);\n      this.clearBtnTimer = setTimeout(() => {\n        onClearBtnToggle();\n      }, TOGGLE_SPEED);\n    });\n  }\n  \n  handleFilterGroupToggle() {\n    const { onFilterGroupToggle } = this.props;\n    \n    onFilterGroupToggle();\n  }\n\n  noOp(ev) {\n    ev.preventDefault();\n  }\n\n  render() {\n    const {\n      categories,\n      clearBtnStyles,\n      filters,\n      navRef,\n      navStyles,\n      wrapperRef,\n    } = this.props;\n    const {\n      showClearFilters,\n    } = this.state;\n    const navModifier = (showClearFilters) ? 'show--clear' : '';\n\n    return (\n      <div\n        className={`left-nav-wrapper ${styles.root} ${navModifier}`}\n        ref={wrapperRef}\n      >\n        <Point className=\"left-nav__wrapper-top-point\" type=\"wrapperTop\" />\n        <nav\n          className=\"left-nav\"\n          ref={navRef}\n          style={navStyles}\n        >\n          <Point className=\"left-nav__top-point\" type=\"navTop\" />\n          {categories.map((item, ndx) => (\n            <a\n              key={ndx}\n              className=\"left-nav__category-link\"\n              href={item.url}\n              onClick={this.noOp}\n            >\n              {item.label}\n            </a>\n          ))}\n          {Object.keys(filters).map((filterGroup, groupNdx) => {\n            const group = filters[filterGroup];\n\n            if(groupNdx === 0) this.selectedFiltersCount = 0;\n\n            return (\n              <Collapsible\n                key={groupNdx}\n                className=\"left-nav__filter-group\"\n                contentInnerClassName=\"left-nav__filter-group-content\"\n                onOpen={this.handleFilterGroupToggle}\n                onClose={this.handleFilterGroupToggle}\n                openedClassName=\"left-nav__filter-group\"\n                tabIndex={0}\n                transitionTime={200}\n                trigger={filterGroup}\n                triggerClassName=\"left-nav__filter-group-btn title-font\"\n                triggerOpenedClassName=\"left-nav__filter-group-btn title-font is--open\"\n              >\n                {group.map((filter, filterNdx) => {\n                  const selected = this.filters[filterGroup][filterNdx].selected;\n                  const modifier = (selected) ? 'is--selected' : '';\n                  \n                  if(selected) this.selectedFiltersCount += 1;\n\n                  return (\n                    <a\n                      key={filterNdx}\n                      className={`left-nav__filter-link ${modifier}`}\n                      href={filter.url}\n                      data-filter={filterGroup}\n                      data-filter-ndx={filterNdx}\n                      onClick={this.handleFilterClick}\n                    >\n                      {filter.label}\n                    </a>\n                  );\n                })}\n              </Collapsible>\n            );\n          })}\n          <Point className=\"left-nav__btm-point\" type=\"navBtm\" />\n        </nav>\n        <button\n          className=\"left-nav__clear-btn\"\n          disabled={!showClearFilters}\n          onClick={this.handleClearClick}\n          style={clearBtnStyles}\n        >\n          {`Clear (${this.selectedFiltersCount}) Filter${(this.selectedFiltersCount > 1) ? 's' : ''}`}\n        </button>\n        <Point className=\"left-nav__wrapper-btm-point\" type=\"wrapperBtm\" />\n      </div>\n    );\n  }\n}\n\nexport default forwardRef((props, { navRef, wrapperRef }) => (\n  <LeftNav {...props} navRef={navRef} wrapperRef={wrapperRef} />\n));\n","import {css} from 'glamor';\n\nexport default {\n  root: css({\n    width: '25%',\n    padding: '0.25em',\n    display: 'inline-block',\n    \n    ' img': {\n      width: '100%',\n      background: '#eee',\n    },\n    \n    ' h4': {\n      padding: 0,\n      margin: 0,\n    },\n    \n    ' h6': {\n      padding: 0,\n      margin: 0,\n    },\n  }),\n};\n","import React from 'react';\nimport styles from './styles';\n\nconst emptyImg = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\n\nexport default ({\n  price,\n  subtitle,\n  title,\n}) => (\n  <div className={`product ${styles.root}`}>\n    <img src={emptyImg} alt=\"Item\" />\n    <h4>{title}</h4>\n    <h6>{subtitle}</h6>\n  </div>\n);\n","import React, { forwardRef } from 'react';\nimport Product from '../Product';\n\nexport default forwardRef(({ items }, ref) => (\n  <div className=\"results\" ref={ref}>\n    {items.map((item, ndx) => <Product key={ndx} {...item} />)}\n  </div>\n));\n","import {css} from 'glamor';\n\nconst fontSize = '1.5em';\nexport default {\n  root: css({\n    padding: '1em',\n    display: 'flex',\n    background: '#fff',\n\n    ' .results-header': {\n\n      '&__title': {\n        fontSize,\n        lineHeight: fontSize,\n        flex: 1,\n      },\n\n      '&__nav': {\n        lineHeight: fontSize,\n      },\n\n      '&__sort': {\n        marginTop: '0.6em',\n      },\n    },\n  }),\n};\n","import React, { forwardRef } from 'react';\nimport styles from './styles';\n\nexport default forwardRef(({\n  placeholderStyles,\n  title,\n}, headerRef) => (\n  <header\n    className={`results-header ${styles.root}`}\n    ref={headerRef}\n  >\n    <div className=\"results-header__title title-font\">{title}</div>\n    <nav className=\"results-header__nav\">\n      <select className=\"results-header__sort\">\n        <option>Opt 1</option>\n        <option>Opt 2</option>\n        <option>Opt 3</option>\n        <option>Opt 4</option>\n      </select>\n    </nav>\n  </header>\n));\n","import React, { Component } from 'react';\n\nclass Number extends Component {\n  constructor() {\n    super();\n\n    this.sanitize = this.sanitize.bind(this);\n  }\n\n  sanitize(ev) {\n    const {\n      min,\n      onChange,\n    } = this.props;\n    const val = +ev.currentTarget.value;\n\n    onChange( (val < min) ? min : val );\n  }\n\n  render() {\n    const {\n      label,\n      value,\n    } = this.props;\n\n    return (\n      <label>\n        <span className=\"label-text\">{label}</span>\n        <input type=\"number\" onChange={this.sanitize} value={value}/>\n      </label>\n    );\n  }\n}\n\nexport default Number;\n","import {css} from 'glamor';\n\nexport const DOCK_TO_RIGHT = 'docked--right';\nconst borderColor = '#666';\nexport default {\n  root: css({\n    minHeight: '50%',\n    padding: '1em',\n    border: `solid 1px ${borderColor}`,\n    borderRight: 'none',\n    borderRadius: '0.5em 0em 0em 0.5em',\n    background: '#eee',\n    position: 'fixed',\n    transition: 'transform 200ms',\n\n    ' label': {\n      margin: '0.5em',\n      userSelect: 'none',\n\n      ' > .label-text': {\n        flex: '1 0 0',\n      },\n\n      ' > input': {\n        marginLeft: '0.5em',\n      },\n    },\n\n    ' [type=\"number\"]': {\n      maxWidth: '4em',\n      textAlign: 'center',\n    },\n\n    ' .toolbox': {\n\n      '&__toggle-btn': {\n        padding: 0,\n        overflow: 'hidden',\n        border: 'none',\n        background: 'transparent',\n        cursor: 'pointer',\n        position: 'absolute',\n        outline: 'none',\n\n        '::before': {\n          content: `''`,\n          width: '4em',\n          height: '4em',\n          border: `solid 1px ${borderColor}`,\n          borderRadius: '100%',\n          background: '#eee',\n          display: 'block',\n          position: 'absolute',\n          top: '50%',\n          left: '50%',\n          zIndex: -1,\n        },\n      },\n    },\n\n    [`.${DOCK_TO_RIGHT}`]: {\n      top: '50%',\n      right: 0,\n      transform: 'translate(100%, -50%)',\n\n      ' .toolbox': {\n\n        '&__toggle-btn': {\n          width: '2.4em',\n          height: '5em',\n          top: '50%',\n          right: '100%',\n          transform: 'translateY(-50%)',\n\n          '::before': {\n            transform: 'translate(-30%, -50%)',\n          },\n        },\n\n        '&__tools > *': {\n          display: 'flex',\n        },\n      },\n\n      '.is--open': {\n        transform: 'translate(0%, -50%)',\n      },\n    }\n  }),\n};\n","import React, { Component } from \"react\";\nimport Number from './components/Number';\nimport Toggle from './components/Toggle';\nimport styles, {\n  DOCK_TO_RIGHT,\n} from \"./styles\";\n\nconst Tools = {\n  Number,\n  Toggle,\n};\n\nclass Toolbox extends Component {\n  constructor(props) {\n    super();\n\n    this.state = {\n      opened: false,\n    };\n\n    this.handleOpenClick = this.handleOpenClick.bind(this);\n  }\n\n  handleOpenClick(ev) {\n    this.setState({\n      opened: !this.state.opened,\n    });\n  }\n\n  render() {\n    const {\n      children,\n      className,\n      position,\n    } = this.props;\n    const {\n      opened,\n    } = this.state;\n    let modifiers = position;\n\n    if(opened) modifiers += ' is--open';\n\n    return (\n      <div className={`toolbox ${styles.root} ${className} ${modifiers}`}>\n        <button\n          className=\"toolbox__toggle-btn\"\n          onClick={this.handleOpenClick}\n        >&#x2630;</button>\n        <div className=\"toolbox__tools\">\n          {children}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Toolbox;\nexport {\n  DOCK_TO_RIGHT,\n  Tools,\n};\n","import React from 'react';\n\nexport default ({\n  label,\n  onChange,\n  toggled,\n}) => (\n  <label>\n    <span className=\"label-text\">{label}</span>\n    <input type=\"checkbox\" onChange={onChange} checked={toggled}/>\n  </label>\n);\n","import {css} from 'glamor';\n\nexport default {\n  root: css({\n    textAlign: 'center',\n    padding: '1em',\n    borderBottom: 'solid 1px #ccc',\n    boxShadow: '0 0 1em 0.5em #00000020',\n    background: '#eee',\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    right: 0,\n\n    ' a': {\n      color: '#333',\n      textDecoration: 'none',\n      textTransform: 'uppercase',\n      padding: '1em',\n      position: 'relative',\n\n      ':hover::after': {\n        content: `''`,\n        width: '100%',\n        height: '2px',\n        background: '#333',\n        position: 'absolute',\n        bottom: 0,\n        left: 0,\n      },\n    },\n  }),\n};\n","import React, { forwardRef } from \"react\";\nimport styles from \"./styles\";\n\nexport default forwardRef(({ items }, ref) => (\n  <nav\n    className={`top-nav ${styles.root}`}\n    ref={ref}\n  >\n    {items.map((item, ndx) => (\n      <a\n        key={ndx}\n        className=\"top-nav__link title-font\"\n        href={item.url}\n      >\n        {item.label}\n      </a>\n    ))}\n  </nav>\n));\n","export default [\n  {\n    label: 'Men',\n    url: 'https://site.com/page/mens',\n  },\n  {\n    label: 'Women',\n    url: 'https://site.com/page/women',\n  },\n  {\n    label: 'Kids',\n    url: 'https://site.com/page/kids',\n  },\n  {\n    label: 'Customize',\n    url: 'https://site.com/page/customize',\n  },\n];\n","/* \n  eslint-disable\n    default-case,\n    no-mixed-operators\n*/\n\nimport React, {\n  createRef,\n  Component,\n  Fragment,\n} from 'react';\nimport ReactDOM from 'react-dom';\nimport styles from './styles';\nimport Banner from './components/Banner';\nimport Footer from './components/Footer';\nimport LeftNav from './components/LeftNav';\nimport Results from './components/Results';\nimport ResultsHeader from './components/ResultsHeader';\nimport Toolbox, { DOCK_TO_RIGHT, Tools } from './components/Toolbox';\nimport TopNav from './components/TopNav';\nimport {\n  categories as genCategories,\n  filters as genFilters,\n} from './data/leftNav';\nimport genProducts from './data/products';\nimport topNavData from './data/topNav';\n\nconst CATEGORY_COUNT = 10;\nconst FILTER_COUNT = 3;\nconst FILTER_CHILD_COUNT = 5;\nconst PRODUCT_COUNT = 24;\n\nconst navPositions = {\n  SCROLL: 'scroll',\n  LOCK_TO_HEADER_BOTTOM: 'lockToHeaderBottom',\n  LOCK_TO_VIEWPORT_BOTTOM: 'lockToViewportBottom',\n  LOCK_TO_WRAPPER_BOTTOM: 'lockToWrapperBottom',\n};\n\nconst dummyLogger = {\n  log: () => {},\n};\nconst debugLogger = {\n  log: window.console.log,\n};\nlet logger = dummyLogger;\n\nconst stickySupported = () => {\n  const el = document.createElement('a');\n  const mStyle = el.style;\n  mStyle.cssText = \"position:sticky;position:-webkit-sticky;position:-ms-sticky;\";\n  return mStyle.position.indexOf('sticky') !== -1;\n};\n\nclass App extends Component {\n  static parseQueryParams(params) {\n    const ret = {};\n\n    params.replace(/^\\?/, '').split('&').forEach((param) => {\n      const data = param.split('=');\n      ret[data[0]] = data[1];\n    });\n\n    return ret;\n  }\n\n  static updateQuery({ _default, name, value }) {\n    return () => {\n      const rawParams = window.location.search;\n      const updatedParams = [];\n\n      // If there current params, determine if they need to be updated or removed\n      if(rawParams){\n        const params = App.parseQueryParams(rawParams);\n\n        if(\n          // doesn't exist, add it\n          !params[name]\n          // exists, and value doesn't equal default\n          || value !== _default\n        ){\n          params[name] = value;\n        }\n        // exists, but it's the default, so kill it\n        else if(params[name]){\n          delete params[name];\n        }\n\n        Object.keys(params).forEach((name) => {\n          updatedParams.push(`${name}=${params[name]}`);\n        });\n      }\n      // If there are no params, just add\n      else {\n        updatedParams.push(`${name}=${value}`);\n      }\n\n      const paramsString = (updatedParams.length)\n        ? `?${updatedParams.join('&')}`\n        : '';\n      window.history.replaceState({}, '', `${window.location.pathname}${paramsString}`);\n    };\n  }\n\n  static getStateFromQueryString(state) {\n    const _state = { ...state };\n    const params = App.parseQueryParams(window.location.search);\n\n    Object.keys(params).forEach((name) => {\n      if(_state[name] !== undefined) {\n        // ensure params are typecast back to their original types\n        const prevVal = _state[name];\n        let newVal = params[name];\n\n        switch(typeof prevVal){\n          case 'boolean':\n            newVal = Boolean(newVal);\n            break;\n          case 'number':\n            newVal = +newVal;\n            break;\n        }\n\n        _state[name] = newVal;\n      }\n    });\n\n    return _state;\n  }\n\n  static generateData(state) {\n    const _state = { ...state };\n\n    if(_state.categoryCount) _state.categories = genCategories(_state.categoryCount);\n    if(_state.filterCount && _state.filterChildCount) _state.filters = genFilters(\n      _state.filterCount,\n      _state.filterChildCount,\n    );\n    if(_state.productCount) _state.products = genProducts(_state.productCount);\n\n    return _state;\n  }\n\n  constructor() {\n    super();\n\n    this.state = App.generateData({\n      categoryCount: CATEGORY_COUNT,\n      clearBtnStyles: undefined,\n      debug: false,\n      filterCount: FILTER_COUNT,\n      filterChildCount: FILTER_CHILD_COUNT,\n      navStyles: undefined,\n      productCount: PRODUCT_COUNT,\n      shelfOpened: false,\n    });\n\n    this.topNavRef = createRef();\n    this.headerRef = createRef();\n    this.leftNavRef = createRef();\n    this.leftNavWrapperRef = createRef();\n    this.resultsRef = createRef();\n\n    this.controlHeaderPosition = this.controlHeaderPosition.bind(this);\n    this.handleCategoryCountChange = this.handleCategoryCountChange.bind(this);\n    this.handleDebugToggle = this.handleDebugToggle.bind(this);\n    this.handleFilterChildCountChange = this.handleFilterChildCountChange.bind(this);\n    this.handleClearBtnToggle = this.handleClearBtnToggle.bind(this);\n    this.handleFilterCountChange = this.handleFilterCountChange.bind(this);\n    this.handleFilterGroupToggle = this.handleFilterGroupToggle.bind(this);\n    this.handleProductCountChange = this.handleProductCountChange.bind(this);\n    this.handleScroll = this.handleScroll.bind(this);\n  }\n\n  componentDidMount() {\n    this.init();\n  }\n\n  init() {\n    this.headerH = this.headerRef.current.offsetHeight;\n    this.topNavH = this.topNavRef.current.offsetHeight;\n    this.leftNavW = this.leftNavRef.current.offsetWidth;\n    this.maxHeaderY = this.topNavH;\n    this.maxNavY = this.maxHeaderY + this.headerH;\n    \n    this.scrollDirection = 'down';\n    \n    this.headerRef.current.style.top = `${this.maxHeaderY}px`;\n    this.headerRef.current.classList.add('sticky');\n\n    this.pointEls = document.querySelectorAll('[data-point-type]');\n    this.points = {};\n    this.navBounds = {\n      top: this.maxNavY,\n      bottom: window.innerHeight,\n    };\n\n    window.addEventListener('scroll', this.handleScroll, false);\n    \n    if(!stickySupported()){\n      window.Stickyfill.add(document.querySelectorAll('.sticky'));\n    }\n    \n    this.setState(App.generateData({\n      ...App.getStateFromQueryString(this.state),\n      navStyles: {\n        // width has to be set because when the nav switches to a `fixed` width,\n        // the `flex` styling shrinks \n        width: `${this.leftNavW}px`\n      }\n    }), () => {\n      if(this.state.debug) logger = debugLogger;\n      this.handleScroll();\n    }); \n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('scroll', this.handleScroll);\n    this.navObserver.disconnect();\n  }\n\n  handleDebugToggle() {\n    const debug = !this.state.debug;\n    \n    logger = (debug) ? debugLogger : dummyLogger;\n\n    this.setState({\n      debug,\n    }, App.updateQuery({\n      _default: false,\n      name: 'debug',\n      value: debug,\n    }));\n  }\n\n  handleProductCountChange(productCount) {\n    this.setState(App.generateData({\n      productCount,\n    }), App.updateQuery({\n      _default: PRODUCT_COUNT,\n      name: 'productCount',\n      value: productCount,\n    }));\n  }\n\n  handleCategoryCountChange(categoryCount) {\n    this.setState(App.generateData({\n      categoryCount,\n    }), App.updateQuery({\n      _default: CATEGORY_COUNT,\n      name: 'categoryCount',\n      value: categoryCount,\n    }));\n  }\n\n  handleFilterCountChange(filterCount) {\n    this.setState(App.generateData({\n      filterCount,\n      filterChildCount: this.state.filterChildCount,\n    }), App.updateQuery({\n      _default: FILTER_COUNT,\n      name: 'filterCount',\n      value: filterCount,\n    }));\n  }\n\n  handleFilterChildCountChange(filterChildCount) {\n    this.setState(App.generateData({\n      filterCount: this.state.filterCount,\n      filterChildCount,\n    }), App.updateQuery({\n      _default: FILTER_CHILD_COUNT,\n      name: 'filterChildCount',\n      value: filterChildCount,\n    }));\n  }\n  \n  handleClearBtnToggle() {\n    this.controlNavPosition({ heightChanged: true });\n  }\n  \n  handleFilterGroupToggle() {\n    this.controlNavPosition({ heightChanged: true });\n  }\n  \n  /**\n   * Recalculate the bottom bounds to account for the bottom of the wrapper\n   * scrolling into view.\n   */\n  calcBounds() {\n    const btmPoint = document.querySelector('[data-point-type=\"wrapperBtm\"]');\n    const rectY = btmPoint.getBoundingClientRect().y\n    \n    this.navBounds.bottom = (rectY < window.innerHeight)\n      ? rectY\n      : window.innerHeight;\n  }\n  \n  handleScroll() {\n    this.scrollDirection = (this.prevScroll > window.pageYOffset) ? 'up' : 'down';\n    this.prevScroll = window.pageYOffset;\n    \n    this.calcBounds();\n    \n    let pointsVisible = false;\n    \n    for (let i=0; i<this.pointEls.length; i++) {\n      const point = this.pointEls[i];\n      const type = point.dataset.pointType;\n      const rect = point.getBoundingClientRect();\n      \n      if(!this.points[type]) this.points[type] = {};\n    \n      this.points[type].visible = rect.y >= this.navBounds.top && rect.y <= this.navBounds.bottom;\n      this.points[type].bottom = rect.bottom;\n      this.points[type].y = rect.y;\n    \n      if(this.points[type].visible) {\n        pointsVisible = true;\n      }\n    }\n    \n    this.controlHeaderPosition();\n    this.controlNavPosition();\n  }\n  \n  controlHeaderPosition() {\n    // NOTE - setting attributes directly on element since React doesn't\n    // update the DOM fast enough, which results in choppy paint when the header\n    // becomes (un)locked.\n    \n    // TODO - Update `maxHeaderY` if that value is based off responsive elements\n    // that could change height after a `resize`.\n    \n    if(window.pageYOffset >= this.maxHeaderY){\n      this.headerRef.current.classList.add('is--sticky');\n    }\n    else {\n      this.headerRef.current.classList.remove('is--sticky');\n    }\n  }\n  \n  setClearBtnPosition(pos){\n    if(pos === this.clearBtnPos) return;\n    \n    const clearBtnStyles = {\n      position: 'fixed',\n    };\n    \n    switch(pos){\n      case navPositions.LOCK_TO_VIEWPORT_BOTTOM:\n        clearBtnStyles.position = 'fixed';\n        break;\n      \n      case navPositions.LOCK_TO_WRAPPER_BOTTOM:\n        clearBtnStyles.position = 'absolute';\n        break;\n    }\n    \n    this.clearBtnPos = pos;\n    \n    logger.log(`Clear button position = ${pos}`);\n    \n    this.setState({ clearBtnStyles });\n  }\n  \n  setNavPosition(pos) {\n    // Ensure the setting of DOM props doesn't happen more often then it has to.\n    if(pos === this.navPos) return;\n    \n    const navStyles = { ...this.state.navStyles };\n    \n    switch(pos){\n      case navPositions.SCROLL:\n        const offsetY = this.leftNavRef.current.getBoundingClientRect().y - this.leftNavWrapperRef.current.getBoundingClientRect().y;\n        navStyles.position = 'absolute';\n        navStyles.top = `${offsetY}px`;\n        navStyles.bottom = null;\n        break;\n      \n      case navPositions.LOCK_TO_HEADER_BOTTOM:\n        navStyles.position = 'fixed';\n        navStyles.top = `${this.maxNavY}px`;\n        navStyles.bottom = null;\n        break;\n      \n      case navPositions.LOCK_TO_VIEWPORT_BOTTOM:\n        navStyles.position = 'fixed';\n        navStyles.top = null;\n        navStyles.bottom = 0;\n        break;\n      \n      case navPositions.LOCK_TO_WRAPPER_BOTTOM:\n        navStyles.position = 'absolute';\n        navStyles.top = null;\n        navStyles.bottom = 0;\n        break;\n      \n      default: // LOCK_TO_WRAPPER_TOP\n        navStyles.position = null;\n        navStyles.top = null;\n        navStyles.bottom = null;\n    }\n    \n    this.navPos = pos;\n    \n    logger.log(`Nav position = ${pos}`);\n    \n    this.setState({ navStyles });\n  }\n  \n  controlNavPosition({\n    heightChanged,\n  } = {}) {\n    // don't do anything if the nav is taller than the Results\n    if(this.resultsRef.current.offsetHeight < this.leftNavRef.current.offsetHeight) {\n      this.setNavPosition();\n      return;\n    }\n    \n    if(heightChanged) logger.log('heightChanged');\n    \n    if(this.points){\n      const {\n        navBtm,\n        navTop,\n        pointsVisible,\n        wrapperBtm,\n        wrapperTop,\n      } = this.points;\n      const navFitsInView = this.leftNavRef.current.offsetHeight < this.navBounds.bottom - this.navBounds.top;\n      \n      // HEIGHT CHANGE =========================================================\n      if(heightChanged){\n        if(\n          !wrapperTop.visible\n          && navFitsInView\n        ){\n          this.setNavPosition(navPositions.LOCK_TO_HEADER_BOTTOM);\n        }\n        else if(\n          wrapperBtm.visible\n          && !navFitsInView\n          || wrapperBtm.visible\n          && navBtm.y > wrapperBtm.y\n        ){\n          this.setNavPosition(navPositions.LOCK_TO_WRAPPER_BOTTOM);\n        }\n      }\n      // DOWN ==================================================================\n      else if(this.scrollDirection === 'down'){\n    \n        // [lock - to header bottom]\n        if(\n          // IF - The top of the wrapper is hidden, and the nav can fit within\n          //      the viewing area.\n          !wrapperTop.visible\n          && navFitsInView\n        ) {\n          // [lock - to wrapper bottom]\n          if(\n            // IF - The bottom of the wrapper is in view, and the nav fits\n            //      within the viewing area, track the bottom of the wrapper\n            //      and lock the nav to it once they overlap.\n            wrapperBtm.visible\n          ){\n            if(navBtm.y >= wrapperBtm.y){\n              this.setNavPosition(navPositions.LOCK_TO_WRAPPER_BOTTOM);\n            }\n            else {\n              this.setNavPosition(navPositions.LOCK_TO_HEADER_BOTTOM);\n            }\n          }\n          else {\n            this.setNavPosition(navPositions.LOCK_TO_HEADER_BOTTOM);\n          }\n        }\n        // [scroll - with page]\n        else if(\n          // IF - The wrapper is visible, just scroll.\n          wrapperTop.visible\n          // OR - The top of the nav is visible, but the top of the wrapper is\n          //      not (the nav was locked to the top of the Results), so unlock\n          //      it, and allow it to scroll with the page again.\n          || navTop.visible\n          && !wrapperTop.visible\n          // OR - The nav was stuck to the top and needs to transition from the\n          //      top to bottom point.\n          || !navTop.visible\n          && !navBtm.visible\n          && !wrapperBtm.visible\n        ){\n          this.setNavPosition(navPositions.SCROLL);\n        }\n        // [lock - to viewport bottom]\n        else if(\n          // IF - Wrapper bottom is not in view, AND nav bottom is in view, stick\n          //      to bottom stickPoint.\n          navBtm.visible\n          && !wrapperTop.visible\n          // OR - None of the points are in view (which could happen on page load)\n          //      stick to the bottom stickPoint.\n          || !pointsVisible\n        ){\n          // [lock - to wrapper bottom]\n          if(\n            // IF - The bottom of the wrapper is in view, and the nav doesn't\n            //      fit within the viewing area, track the bottom of the wrapper\n            //      and lock the nav to it once they overlap.\n            wrapperBtm.visible\n          ){\n            if(!navFitsInView){\n              this.setNavPosition(navPositions.LOCK_TO_WRAPPER_BOTTOM);\n            }\n          }\n          else {\n            this.setNavPosition(navPositions.LOCK_TO_VIEWPORT_BOTTOM);\n          }\n        }\n        \n        \n        if(!wrapperBtm.visible){\n          this.setClearBtnPosition(navPositions.LOCK_TO_VIEWPORT_BOTTOM);\n        }else {\n          this.setClearBtnPosition(navPositions.LOCK_TO_WRAPPER_BOTTOM);\n        }\n      }\n      // UP ====================================================================\n      else if(this.scrollDirection === 'up') {\n    \n        // [lock - to wrapper top]\n        if(\n          // IF - Wrapper top is in view, stick to wrapper top.\n          wrapperTop.visible\n        ){\n          this.setNavPosition();\n        }\n        else if(\n          navTop.visible\n          && !wrapperTop.visible\n          && navFitsInView\n        ) {\n          this.setNavPosition(navPositions.LOCK_TO_HEADER_BOTTOM);\n        }\n        // [lock - to top]\n        else if(\n          // IF - Wrapper top is not in view, AND nav top is in view, stick to\n          //      top stickPoint.\n          navTop.visible\n        ) {\n          this.setNavPosition(navPositions.LOCK_TO_HEADER_BOTTOM);\n        }\n        // [scroll - with page]\n        else if(\n          // IF - The bottom of the nav is in view and the bottom of the wrapper\n          //      is not (the nav is locked to the bottom of the viewport), so\n          //      pin the nav to it's current position relative to it's parent\n          //      to allow for normal scrolling.\n          navBtm.visible\n          && !wrapperBtm.visible\n        ){\n          this.setNavPosition(navPositions.SCROLL);\n        }\n        \n        if(\n          !wrapperBtm.visible\n        ){\n          this.setClearBtnPosition(navPositions.LOCK_TO_VIEWPORT_BOTTOM);\n        }\n      }\n    }\n  }\n\n  render() {\n    const {\n      categories,\n      categoryCount,\n      clearBtnStyles,\n      debug,\n      filters,\n      filterCount,\n      filterChildCount,\n      navStyles,\n      productCount,\n      products,\n    } = this.state;\n    let appModifier = '';\n\n    if(debug){\n      appModifier += ' debug';\n    }\n\n    return (\n      <Fragment>\n        <div className={`${styles.app} ${appModifier}`}>\n          <TopNav\n            items={topNavData}\n            ref={this.topNavRef}\n          />\n          <div className=\"body\">\n            <Banner />\n            <ResultsHeader\n              ref={this.headerRef}\n              title=\"Results Title\"\n            />\n            <div className=\"results-interface\">\n              <LeftNav\n                categories={categories}\n                clearBtnStyles={clearBtnStyles}\n                filters={filters}\n                navStyles={navStyles}\n                onClearBtnToggle={this.handleClearBtnToggle}\n                onFilterGroupToggle={this.handleFilterGroupToggle}\n                ref={{\n                  navRef: this.leftNavRef,\n                  wrapperRef: this.leftNavWrapperRef,\n                }}\n              />\n              <div className=\"results__wrapper\">\n                <Results items={products} ref={this.resultsRef} />\n              </div>\n            </div>\n          </div>\n          <Footer />\n        </div>\n        <Toolbox\n          className={`${styles.toolbox}`}\n          position={DOCK_TO_RIGHT}\n        >\n          <Tools.Toggle\n            label=\"Debug\"\n            onChange={this.handleDebugToggle}\n            toggled={debug}\n          />\n          <Tools.Number\n            label=\"Product Count\"\n            min={1}\n            onChange={this.handleProductCountChange}\n            value={productCount}\n          />\n          <Tools.Number\n            label=\"Category Count\"\n            min={1}\n            onChange={this.handleCategoryCountChange}\n            value={categoryCount}\n          />\n          <Tools.Number\n            label=\"Filters Count\"\n            min={1}\n            onChange={this.handleFilterCountChange}\n            value={filterCount}\n          />\n          <Tools.Number\n            label=\"Filters Child Count\"\n            min={1}\n            onChange={this.handleFilterChildCountChange}\n            value={filterChildCount}\n          />\n        </Toolbox>\n      </Fragment>\n    );\n  }\n}\n\nconst rootElement = document.getElementById('root');\nReactDOM.render(<App />, rootElement);\n","export const categories = (count) => Array(count).fill().map((item, ndx) => ({\n  label: `Category ${ndx+1}`,\n  url: `/category-${ndx+1}`,\n}));\n\nexport const filters = (count, childCount) => {\n  const _filters = {};\n\n  for(let i=0; i<count; i++){\n    _filters[`Filter ${i+1}`] = Array(childCount).fill().map((item, ndx) => ({\n      label: `Filter ${ndx+1}`,\n      url: `/filter-${ndx+1}`,\n    }));\n  }\n\n  return _filters;\n};\n","export default (count) => Array(count).fill().map(() => ({\n  title: 'Title',\n  subtitle: 'Sub Title',\n  price: '$100',\n}));\n"],"sourceRoot":""}